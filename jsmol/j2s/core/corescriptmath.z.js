(function(sa,ta,ua,va,W,wa,X,x,U,Z,$,aa,xa,qa,ya,N,O,C,ba,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,D,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,r){X("JS");U(null,"JS.MathExt","java.util.Date $.Hashtable $.Random JU.A4 $.AU $.BArray $.BS $.CU $.Lst $.M3 $.M4 $.Measure $.OC $.P3 $.P4 $.PT $.Quat $.Rdr $.SB $.V3 J.api.Interface J.atomdata.RadiusData J.bspt.PointIterator J.c.VDW J.i18n.GT JM.BondSet $.Measurement JS.SV $.T JU.BSUtil $.BoxInfo $.Edge $.Escape $.JmolMolecule $.Logger $.Parser $.Point3fi $.SimpleUnitCell JV.FileManager $.JC $.Viewer".split(" "),
function(){var k=$(function(){this.pm=this.rand=this.e=this.vwr=null;Z(this,arguments)},JS,"MathExt",null);r(k,"init",function(c){this.e=c;this.vwr=this.e.vwr;return this},"~O");r(k,"evaluate",function(c,a,b,d){switch(d){case 134218760:return 1<=b.length&&4==b[0].tok?c.addXStr((1==b.length?(new java.util.Date).toString():this.vwr.apiPlatform.getDateFormat(JS.SV.sValue(b[1])))+"\t"+JS.SV.sValue(b[0]).trim()):c.addXInt(System.currentTimeMillis()-JS.MathExt.t0-(0==b.length?0:b[0].asInt()));case 134218250:return 1==
b.length&&2==b[0].tok?c.addXInt(Math.abs(b[0].intValue)):c.addXFloat(Math.abs(b[0].asFloat()));case 134218241:case 134218245:case 134218244:case 134218246:case 134218255:return 1==b.length&&this.evaluateMath(c,b,d);case 1275069441:case 1275068435:case 1275068928:case 1275068929:case 1275068930:case 1275068931:case 1275335685:case 1275334681:return this.evaluateList(c,a.intValue,b);case 268437504:0==b.length&&(c.wasX=!1);case 1275068418:return this.evaluateArray(c,b,1275068418==d&&268442113==a.tok);
case 134217766:return this.evaluateMatrix(c,b);case 134217765:return this.evaluateCallbackParam(c,b);case 134217731:case 134221850:return this.evaluateQuaternion(c,b,d);case 1275068420:return this.evaluateBin(c,b);case 134221829:return this.evaluateCache(c,b);case 1275068934:case 1275068935:return this.evaluateRowCol(c,b,d);case 1765808134:return this.evaluateColor(c,b);case 134221831:return this.evaluateCompare(c,b);case 1228931586:case 134217736:case 1275203608:return this.evaluateConnected(c,b,
d,a.intValue);case 1812599299:case 1814695966:return this.evaluateUnitCell(c,b,268442113==a.tok,268442113==a.tok?a.intValue:a.tok);case 134353926:return this.evaluateContact(c,b);case 134221834:return this.evaluateData(c,b);case 1275069444:case 1275069442:return this.evaluateDotDist(c,b,d,a.intValue);case 1275069443:if(268442113==a.tok)return this.evaluateDotDist(c,b,d,a.intValue);case 134217729:case 1745489939:return this.evaluateMeasure(c,b,a.tok);case 1228935687:case 134223363:return this.evaluateLoad(c,
b,1228935687==d);case 1275068427:return this.evaluateFind(c,b);case 1275068433:return this.evaluateInChI(c,b);case 1287653388:case 1825200146:return this.evaluateFormat(c,a.intValue,b,1825200146==d);case 134320141:return this.evaluateUserFunction(c,a.value,b,a.intValue,268442113==a.tok);case 1275068437:d=1275068725;case 1275068446:case 1275068725:case 1275082241:case 1275072526:return this.evaluateGetProperty(c,b,d,268442113==a.tok);case 136314895:return this.evaluateHelix(c,b);case 134219777:case 134217750:case 134217763:return this.evaluatePlane(c,
b,d,268442113==a.tok);case 134218759:case 134238732:case 134222850:case 134222350:return this.evaluateScript(c,b,d);case 1275069446:case 1275069447:case 1275068932:return this.evaluateString(c,a.intValue,b);case 134217751:return this.evaluatePoint(c,b);case 1275068447:return this.evaluatePointGroup(c,b,268442113==a.tok);case 134256129:return this.evaluatePrompt(c,b);case 134219266:return this.evaluateRandom(c,b);case 1275068432:return this.evaluateIn(c,b);case 1275072532:return this.evaluateModulation(c,
b);case 1275068443:return this.evaluateReplace(c,b);case 134218753:case 134218756:case 134218757:case 1237320707:return this.evaluateSubstructure(c,b,d,268442113==a.tok);case 1275068444:case 1275068425:return this.evaluateSort(c,b,d);case 134217764:return this.evaluateSpacegroup(c,b);case 1296041986:return this.evaluateSymop(c,b,268442113==a.tok);case 1275068445:return this.evaluateTensor(c,b);case 134217759:return this.evaluateWithin(c,b,268442113==a.tok);case 134221856:return this.evaluateWrite(c,
b)}return!1},"JS.ScriptMathProcessor,JS.T,~A,~N");r(k,"evaluateMatrix",function(c,a){var b=a.length,d=null,e=null,f=0<b&&4==a[0].tok?a[0].value:null,g=2>b||null==f?null:a[1].getMap(),f=2>b||null==f?null:a[1].getList(),h=1<b&&1073742335==a[b-1].tok;h&&b--;var j=1<b&&4==a[b-1].tok?a[b-1].value:null,l="uvw".equalsIgnoreCase(j),q="abc".equalsIgnoreCase(j),y=l||!q&&"xyz".equalsIgnoreCase(j),n=!l&&!q&&!y&&"rxyz".equalsIgnoreCase(j),p=null;(null!=j||null!=f||null!=g)&&b--;switch(b){case 0:d=new JU.M4;d.setIdentity();
break;case 1:switch(a[0].tok){case 12:d=a[0].value;break;case 4:b=a[0].value;if(b.equals("h")||b.equals("r")||0<=b.indexOf(",")&&0>b.indexOf(":")){if(0<=b.indexOf("*")){if(d=this.vwr.getCurrentUnitCell(),null==d)return!1}else d=this.vwr.getSymTemp();d=d.convertTransform(b,null)}if(null!=d)break;var s=null;null!=j&&(!q&&!y&&!l)&&("map".equals(j)?g=new java.util.Hashtable:("list".equals(j)||(s="[SELECT ("+j+")]"),f=new JU.Lst));var m=null==f&&null==g,k=null==g?null:new java.util.Hashtable,j=null==f?
null:new JU.Lst;m&&(k=new java.util.Hashtable,k.put("ASM4",Boolean.TRUE));d=this.vwr.getSymStatic().staticGetMatrixTransform(b,null==k?j:k);if(m)break;if(null!=g){g.clear();for(var u,e=k.entrySet().iterator();e.hasNext()&&((u=e.next())||1);)g.put(u.getKey(),JS.SV.getVariable(u.getValue()));return c.addXMap(g)}if(null!=f){if(null!=s)return c.addXObj(this.vwr.extractProperty(j,s,-1));f.clear();g=0;for(e=j.size();g<e;g++)f.addLast(JS.SV.getVariable(j.get(g)));return c.addXList(f)}break;case 7:switch(f=
a[0].getList(),u=f.size(),u){case 3:case 4:p=C(u*u,0);for(b=g=0;g<u;g++)switch(s=f.get(g),s.tok){case 8:m=s.value;p[b++]=m.x;p[b++]=m.y;p[b++]=m.z;break;case 9:j=s.value;p[b++]=j.x;p[b++]=j.y;p[b++]=j.z;p[b++]=j.w;break;case 7:s=f.get(g).getList();if(null==s||s.size()!=u)return!1;for(j=0;j<u;j++)p[b++]=JS.SV.fValue(s.get(j))}break;case 9:case 16:p=JS.SV.flistValue(a[0],0);break;default:return!1}}break;case 2:e=new JU.M3;if(8!=a[0].tok)return!1;f=JU.V3.newV(JS.SV.ptValue(a[0]));d=JS.SV.fValue(a[1]);
e.setAA(JU.A4.newVA(f,3.141592653589793*(d/180)));return c.addXM3(e);case 3:case 4:if(7==a[0].tok){p=C(3==b?9:16,0);for(g=m=0;g<b;g++){s=JS.SV.flistValue(a[g],0);for(j=0;j<b;j++)p[m++]=s[j]}}}if(null!=p)switch(p.length){case 9:e=JU.M3.newA9(p);break;case 16:d=JU.M4.newA16(p);break;default:return!1}if(n||q||l||y)return null!=e&&(d=JU.M4.newMV(e,new JU.P3)),h&&this.doNormalize(d),c.addXStr(this.matToString(d,n?1:q?2748:l?3567:0));h&&this.doNormalize(d);return null!=e?c.addXM3(e):null!=d?c.addXM4(d):
!1},"JS.ScriptMathProcessor,~A");r(k,"doNormalize",function(c){if(null!=c){var a=c.m13+(c.m10+c.m11+c.m12)/2,b=c.m23+(c.m20+c.m21+c.m22)/2;c.m03-=Math.floor(c.m03+(c.m00+c.m01+c.m02)/2);c.m13-=Math.floor(a);c.m23-=Math.floor(b)}},"JU.M4");r(k,"matToString",function(c,a){var b=this.vwr.getSymStatic();switch(a){case 1:return b.staticConvertOperation(null,c,"rxyz");case 32:case 2748:return b.staticGetTransformABC(c,!1);default:case 36:case 3567:case 28:return this.vwr.getSymStatic().staticConvertOperation("",
c,36==a||3567==a?"uvw":"xyz")}},"JU.M4,~N");r(k,"evaluateCallbackParam",function(c,a){return c.addX(this.e.getCallbackParameter(0==a.length?-2147483648:a[0].asInt()))},"JS.ScriptMathProcessor,~A");r(k,"evaluateSpacegroup",function(c,a){var b=null,d=a.length;if(0==d)return c.addXObj(this.vwr.getSymTemp().getSpaceGroupInfo(this.vwr.ms,null,this.vwr.am.cmi,!0,null));var e=4==a[a.length-1].tok?a[a.length-1].value:null,f="settings".equalsIgnoreCase(e),g="setting".equalsIgnoreCase(e),h=1<d&&(2!=d||!f&&
!g&&!"list".equalsIgnoreCase(e)&&!"jmol".equalsIgnoreCase(e)),j=a[0].asString();if(h||"subgroups".equals(e))return h=this.getSubgroupInfo(a,"subgroups".equals(e)?d:d+1),null==h?!1:c.addXObj(h);var l=null,h=null;switch(d){default:return!1;case 2:if("list".equals(e)){l=Integer.$valueOf(this.vwr.getSymTemp().getSpaceGroupInfoObj("itaNumber",j,!1,!1));j="list";break}if(4!=a[1].tok){b=JS.SV.flistValue(a[1],0);if(null==b||6!=b.length)return!1;l=b=JU.SimpleUnitCell.newParams(b,NaN)}case 1:if(10==a[0].tok)return j=
JS.SV.getBitSet(a[0],!0),c.addXObj(this.vwr.findSpaceGroup(null,j,null,b,null,null,1));var q=2==a[0].tok?a[0].intValue:1==d?-2147483648:0;if(f||g)return f&&0==q?!1:c.addXObj((-2147483648==q?this.vwr.getCurrentUnitCell():this.vwr.getSymTemp()).getSpaceGroupJSON(e.toLowerCase(),g&&1<d?j:null,q));if("setting".equalsIgnoreCase(j)||"settings".equalsIgnoreCase(j))return b=this.vwr.getOperativeSymmetry(),c.addXObj(null==b?null:b.getSpaceGroupJSON(j.toLowerCase(),null,-2147483648));if(j.toUpperCase().startsWith("AFLOWLIB/"))return c.addXObj(this.vwr.getSymTemp().getSpaceGroupJSON("AFLOWLIB",
j.substring(9),0));if(j.startsWith("Hall:")||0<=j.indexOf("x")||null!=b){h=this.vwr.findSpaceGroup(null,null,j,b,null,null,1);break}if(0<q||3==a[0].tok||4==a[0].tok){if(0<q||1<j.length&&"/"==j.charAt(1)||!j.endsWith(":")&&!Double.isNaN(JU.PT.parseFloat(j)))j="ITA/"+j;if(j.toUpperCase().startsWith("ITA/"))return c.addXObj(this.vwr.getSymTemp().getSpaceGroupJSON("ITA",j.substring(4),0))}}null==h&&(h=this.vwr.getSymStatic().getSpaceGroupInfoObj(j,l,!0,!1));null!=h&&(!"jmol".equals(e)&&!"list".equals(e))&&
(b=h.get("itaIndex"),null!=b&&(h=this.vwr.getSymTemp().getSpaceGroupJSON("ITA",b.toString(),0)));return c.addXObj(h)},"JS.ScriptMathProcessor,~A");r(k,"getSubgroupInfo",function(c,a){var b,d=-2147483648,e=-2147483648,f=null,g=null;switch(a){case 5:if(e=c[3].intValue,0>e)return null;case 4:if(d=c[2].intValue,0>d||2147483647==d)return null;case 3:g=0==c[1].intValue?"":c[1].asString();case 2:f=c[0].asString();default:if(null==f){b=this.vwr.getOperativeSymmetry();if(null==b)return null;f=b.getSpaceGroupClegId()}else b=
this.vwr.getSymStatic()}return b.getSubgroupJSON(f,g,d,e,0,null,null)},"~A,~N");r(k,"evaluatePointGroup",function(c,a,b){var d=null,e=null,f=-1,g=-1,h=null,j=!1;switch(a.length){case 4:g=a[3].asFloat();case 3:f=a[2].asFloat();case 2:switch(a[1].tok){case 8:e=JS.SV.ptValue(a[1]);break;case 10:h=JS.SV.getBitSet(a[1],!1),a[0].asString().equalsIgnoreCase("spaceGroup")&&(j=!0,2==a.length&&(f=0))}if(j)break;case 1:switch(a[0].tok){case 7:b=a[0].getList();d=Array(b.size());for(a=d.length;0<=--a;)d[a]=JS.SV.ptValue(b.get(a));
break;case 10:h=JS.SV.getBitSet(a[0],!1);d=this.vwr.ms.at;break;case 4:if(b){h=JS.SV.getBitSet(c.getX(),!0);if(null==h||h.isEmpty())return!1;j=a[0].asString();if("spacegroup".equals(j)){j=!0;break}}default:return!1}break;case 0:if(!b)return c.addXObj(this.vwr.ms.getPointGroupInfo(null));h=JS.SV.getBitSet(c.getX(),!1);break;default:return!1}if(null!=h){a=h.nextSetBit(0);if(0>a||a>=this.vwr.ms.ac||j&&1!=h.cardinality())return!1;if(j){e=this.vwr.ms.generateCrystalClass(a,JU.P3.new3(NaN,NaN,NaN));d=Array(e.size());
for(a=d.length;0<=--a;)d[a]=e.get(a);e=new JU.P3}}d=this.vwr.getSymTemp().setPointGroup(this.vwr,null,e,null==d?this.vwr.ms.at:d,h,!1,0>f?this.vwr.getFloat(570425382):f,0>g?this.vwr.getFloat(570425384):g,null==h?d.length:h.cardinality(),!0);return c.addXMap(d.getPointGroupInfo(-1,null,!0,null,0,1))},"JS.ScriptMathProcessor,~A,~B");r(k,"evaluateUnitCell",function(c,a,b,d){var e=b?JS.SV.getBitSet(c.getX(),!0):1812599299==d?this.vwr.getAllAtoms():null,f=(null==e?this.vwr.getAllAtoms():e).nextSetBit(0);
b=a.length-1;if(1812599299==d){if(1<b||0==b&&4!=a[0].tok)return!1;f=this.vwr.ms.getBoxInfo(e,1);return c.addXObj(f.getInfo(0==b?null:a[0].asString()))}d=!1;if(0<=b&&4==a[b].tok)if(e=a[b].value,d="info".equals(e)){if(d&&0==b)return a=this.vwr.getCurrentUnitCell(),c.addXMap(a.getUnitCellInfoMap());b--}else if(e=this.vwr.getUnitCellInfoStr(e),!Float.isNaN(e))return c.addXFloat(e);a=this.getUnitCell(a,f,0,b);return d&&JU.AU.isAP(a)?(a=this.vwr.getSymTemp().getUnitCell(a,!1,null),c.addXMap(a.getUnitCellInfoMap())):
null!=a&&c.addXObj(a)},"JS.ScriptMathProcessor,~A,~B,~N");r(k,"getUnitCell",function(c,a,b,d){var e=0<b,f=1;switch(d<b?0:c[d].tok){case 2:case 3:f=c[d].asFloat(),d--}var g=!1,h=b>=c.length||d<b?0:c[b].tok,j=null,l=null,q=null;switch(h){case 7:l=c[b].getList();break;case 12:if(e)return null;switch(1<d?1073741936:d<b+1?0:c[b+1].tok){default:case 1073741936:return null;case 0:case 1073742334:break;case 1073742335:g=!0}return this.vwr.getSymStatic().staticGetTransformABC(c[b].value,g);case 4:if(q=c[b].asString(),
0==q.indexOf("a=")){j=Array(4);for(g=0;4>g;g++)j[g]=new JU.P3;JU.SimpleUnitCell.setAbc(q,null,j)}else if(0<=q.indexOf(",")||q.equals("r")){if(d>b&&JS.SV.bValue(c[b+1]))return e?null:this.vwr.getSymTemp().convertTransform(q,null);j=this.vwr.getV0abc(-1,q)}}if(null==j){q=null;if((g=null!=l)&&4>l.size())return null;b+=g?1:0;!g&&8!=h&&(q=0>a?this.vwr.getCurrentUnitCell():this.vwr.ms.getUnitCell(this.vwr.ms.at[a].mi),j=null==q?D(-1,[JU.P3.new3(0,0,0),JU.P3.new3(1,0,0),JU.P3.new3(0,1,0),JU.P3.new3(0,0,
1)]):q.getUnitCellVectors());if(null==j)if(j=Array(4),g)switch(l.size()){case 3:j[0]=new JU.P3;for(g=0;3>g;g++)j[g+1]=JU.P3.newP(JS.SV.ptValue(l.get(g)));break;case 4:for(g=0;4>g;g++)j[g]=JU.P3.newP(JS.SV.ptValue(l.get(g)));break;case 6:h=C(6,0);for(g=0;6>g;g++)h[g]=l.get(g).asFloat();JU.SimpleUnitCell.setAbc(null,h,j);break;default:return null}else switch(j[0]=JU.P3.newP(JS.SV.ptValue(c[0])),d){case 3:for(g=1;4>g;g++)(j[g]=JU.P3.newP(JS.SV.ptValue(c[g]))).sub(j[0]);break;case 1:if(l=c[1].getList(),
null!=l&&3==l.size()){for(g=0;3>g;g++)j[g+1]=JU.P3.newP(JS.SV.ptValue(l.get(g)));break}default:return null}h=b<=d?c[b].asString():null;if((l="primitive".equalsIgnoreCase(h))||"conventional".equalsIgnoreCase(h)){c=++b>d?"":c[b].asString().toUpperCase();c.equals("BCC")?c="I":0==c.length&&(c=this.vwr.getSymmetryInfo(a,null,0,null,null,null,1073741994,null,0,-1,0,null));if(null==c||0==c.length)return null;null==q&&(q=this.vwr.getSymTemp());a=this.vwr.getModelForAtomIndex(a).auxiliaryInfo.get("primitiveToCrystal");
if(!q.toFromPrimitive(l,c.charAt(0),j,a))return null}else if("reciprocal".equalsIgnoreCase(h))j=JU.SimpleUnitCell.getReciprocal(j,null,f),f=1;else if("vertices".equalsIgnoreCase(h))return e?null:JU.BoxInfo.getVerticesFromOABC(j)}if(1!=f)for(g=1;4>g;g++)j[g].scale(f);return j},"~A,~N,~N,~N");r(k,"evaluateArray",function(c,a,b){if(b){b=c.getX();switch(b.tok){case 11:case 12:return c.addX(b.toArray())}if(0==a.length||2<a.length)return!1;var d=1==a.length||1073742334==a[1].tok,e;switch(b.tok){case 11:case 12:return c.addX(b.toArray());
case 6:if(1!=a.length)break;var f=new JU.Lst,g=b.getMap(),h=b.getKeys(!1);b=0;for(var j=h.length;b<j;b++)if(null==g.get(h[b]).getMap())return!1;a=a[0].asString();b=0;for(j=h.length;b<j;b++)e=g.get(h[b]).getMap(),d&&(e=JS.SV.deepCopy(e,!0,!1)),e.put(a,JS.SV.newS(h[b])),f.addLast(JS.SV.newV(6,e));return c.addXList(f);case 7:var l=!0,h=new JU.BS,g=new java.util.Hashtable,q=b.getList();a=a[0].asString();for(b=q.size();0<--b;)if(e=q.get(b).getMap(),null==e||null==e.get(a))return!1;b=0;for(j=q.size();b<
j;b++){e=q.get(b).getMap();if(null==e)return!1;d&&(e=JS.SV.deepCopy(e,!0,!1));var y=e.remove(a);l&&(2==y.tok&&0<=y.intValue&&1E4>=y.intValue?h.set(y.intValue):l=!1);y=y.asString();if(g.containsKey(y))return!1;g.put(y,JS.SV.newV(6,e))}if(l&&(b=h.nextSetBit(0),(new Boolean(0==b|1==b)).valueOf()&&(d=h.cardinality(),h.nextClearBit(b)==d+b))){j=Array(d);for(g=g.entrySet().iterator();g.hasNext()&&((f=g.next())||1);)j[Integer.parseInt(f.getKey())-b]=f.getValue();f=new JU.Lst;for(b=0;b<d;b++)f.addLast(j[b]);
return c.addXList(f)}return c.addXObj(g)}return!1}j=Array(a.length);for(b=j.length;0<=--b;)j[b]=JS.SV.newT(a[b]);return c.addXAV(j)},"JS.ScriptMathProcessor,~A,~B");r(k,"evaluateBin",function(c,a){var b=a.length;if(3>b||5<b)return!1;var d=c.getX(),e=13==d.tok;if(!e&&7!=d.tok)return c.addX(d);var f=JS.SV.fValue(a[0]),g=JS.SV.fValue(a[1]),h=JS.SV.fValue(a[2]),j=4<=b&&1073742335==a[b-1].tok,b=(5==b||4==b&&!j)&&1073742334!=a[3].tok?JS.SV.sValue(a[3]):null,l=null;if(e)d=d.value;else{e=d.getList();d=C(e.size(),
0);null!=b&&(l=JU.AU.createArrayOfHashtable(e.size()));try{for(var q=e.size();0<=--q;)d[q]=JS.SV.fValue(null==b?e.get(q):(l[q]=e.get(q).getMap()).get(b))}catch(y){if(N(y,Exception))return!1;throw y;}}for(var g=Math.max(W(Math.floor((g-f)/h+0.01)),1),e=O(g,0),n=d.length,q=0;q<n;q++){var p=W(Math.floor((d[q]-f)/h));if(!(0>p||p>=g))if(e[p]++,null!=b){var s=l[q];if(null!=s){s.put("_bin",JS.SV.newI(p));var m=f+h*p,k=m+h;s.put("_binMin",JS.SV.newF(0==p?-3.4028235E38:m));s.put("_binMax",JS.SV.newF(p==g-
1?3.4028235E38:k))}}}if(j){j=new JU.Lst;for(q=0;q<g;q++)j.addLast(C(-1,[f+h*q,e[q]]));return c.addXList(j)}return c.addXAI(e)},"JS.ScriptMathProcessor,~A");r(k,"evaluateCache",function(c,a){return 0<a.length?!1:c.addXMap(this.vwr.fm.cacheList())},"JS.ScriptMathProcessor,~A");r(k,"evaluateColor",function(c,a){var b=0<a.length?JS.SV.sValue(a[0]):"",d=b.startsWith("$");if(2==a.length&&b.equalsIgnoreCase("TOHSL"))return c.addXPt(JU.CU.rgbToHSL(JU.P3.newP(8==a[1].tok?JS.SV.ptValue(a[1]):JU.CU.colorPtFromString(a[1].asString())),
!0));if(2==a.length&&b.equalsIgnoreCase("TORGB")){var e=JU.P3.newP(8==a[1].tok?JS.SV.ptValue(a[1]):JU.CU.colorPtFromString(a[1].asString()));return c.addXPt(8==a[1].tok?JU.CU.hslToRGB(e):e)}if(4==a.length&&(1073742335==a[3].tok||1073742334==a[3].tok)){var e=JU.P3.newP(8==a[0].tok?JS.SV.ptValue(a[0]):JU.CU.colorPtFromString(a[0].asString())),f=JU.P3.newP(8==a[1].tok?JS.SV.ptValue(a[1]):JU.CU.colorPtFromString(a[1].asString())),g=1073742335==a[3].tok;g&&(e=JU.CU.rgbToHSL(e,!1),f=JU.CU.rgbToHSL(f,!1));
var h=new JU.SB,f=JU.V3.newVsub(f,e),j=a[2].asInt();2>j&&(j=20);f.scale(1/(j-1));for(b=0;b<j;b++)h.append(JU.Escape.escapeColor(JU.CU.colorPtToFFRGB(g?JU.CU.hslToRGB(e):e))),e.add(f);return c.addXStr(h.toString())}j=d?null:this.vwr.cm.getColorEncoder(b);if(!d&&null==j)return c.addXStr("");e=1<a.length?JS.SV.fValue(a[1]):3.4028235E38;f=2<a.length?JS.SV.fValue(a[2]):3.4028235E38;g=3<a.length?JS.SV.fValue(a[3]):3.4028235E38;h=3.4028235E38!=g||3.4028235E38!=e&&3.4028235E38==f;3.4028235E38==f&&0==b.length&&
(g=e,f=this.vwr.getCurrentColorRange(),e=f[0],f=f[1]);if(d){j=b.substring(1);j=D(-1,[j,null]);if(!this.vwr.shm.getShapePropertyData(24,"colorEncoder",j))return c.addXStr("");j=j[1]}else j.setRange(e,f,e>f);b=j.getColorKey();return h?c.addXPt(JU.CU.colorPtFromInt(j.getArgb(3.4028235E38==f?e:g),null)):c.addX(JS.SV.getVariableMap(b))},"JS.ScriptMathProcessor,~A");r(k,"evaluateCompare",function(c,a){var b=a.length;if(2>b||5<b)return!1;var d,e=1073742335==a[b-1].tok;(e||1073742334==a[b-1].tok)&&b--;var f=
JS.SV.sValue(a[b-1]),g=f.equalsIgnoreCase("stddev"),h=f.equalsIgnoreCase("ISOMER"),j=h&&e,l=f.equalsIgnoreCase("BONDS"),e=7==a[0].tok&&7==a[1].tok,q=3<=b?a[2].getList():null,y=null==q&&!e&&!h&&b>(g?3:2),e=10==a[0].tok?a[0].value:null,n=10==a[1].tok?a[1].value:null,p=null==e?JS.SV.sValue(a[0]):"",s=null==n?JS.SV.sValue(a[1]):"";d=NaN;try{if(l){if(4!=b)return!1;p=JS.SV.sValue(a[2]);y=p.equalsIgnoreCase("SMILES");try{y&&(p=this.vwr.getSmiles(e))}catch(m){if(N(m,Exception))this.e.evalError(m.getMessage(),
null);else throw m;}var k=this.e.getSmilesExt().getFlexFitList(e,n,p,!y);return null==k?c.addXStr(""):c.addXAF(k)}if(h){if(3!=b)return!1;if(null==e&&null==n){var u=this.vwr.getSmilesMatcher().getRelationship(p,s).toUpperCase();return c.addXStr(u)}var r=null==e?this.vwr.getSmilesMatcher().getMolecularFormula(p,!1,!1):JU.JmolMolecule.getMolecularFormulaAtoms(this.vwr.ms.at,e,null,!1),ra=null==n?this.vwr.getSmilesMatcher().getMolecularFormula(s,!1,!1):JU.JmolMolecule.getMolecularFormulaAtoms(this.vwr.ms.at,
n,null,!1);if(!r.equals(ra))return c.addXStr("NONE");null!=e&&(p=this.e.getSmilesExt().getSmilesMatches("/strict///",null,e,null,1,!0,!1));var w;null==n?w=0<this.vwr.getSmilesMatcher().areEqual(s,p):(s=this.e.getSmilesExt().getSmilesMatches("/strict///",null,n,null,1,!0,!1),w=0<=this.e.getSmilesExt().getSmilesMatches("/strict///"+p,null,n,null,1,!0,!1).nextSetBit(0));if(!w){var E=p+s;if(0<=E.indexOf("/")||0<=E.indexOf("\\")||0<=E.indexOf("@")){if(0<=p.indexOf("@")&&(null!=n||0<=s.indexOf("@"))&&0>
p.indexOf("@SP")){var Y=p.toLowerCase().indexOf("invertstereo"),p=0<=Y?"/strict/"+p.substring(0,Y)+p.substring(Y+12):"/invertstereo strict/"+p;if(w=null==n?0<this.vwr.getSmilesMatcher().areEqual(p,s):0<=this.e.getSmilesExt().getSmilesMatches(p,null,n,null,1,!0,!1).nextSetBit(0))return c.addXStr("ENANTIOMERS")}null==n?w=0<this.vwr.getSmilesMatcher().areEqual("/nostereo/"+s,p):(u=this.e.getSmilesExt().getSmilesMatches("/nostereo/"+p,null,n,null,1,!0,!1),w=0<=u.nextSetBit(0));if(w)return c.addXStr("DIASTEREOMERS")}u=
"CONSTITUTIONAL ISOMERS";if(j){var v=this.vwr.getInchi(e,null,null);null!=v&&v.equals(this.vwr.getInchi(n,null,null))&&(u="TAUTOMERS")}return c.addXStr(u)}if(null==e||null==n)return c.addXStr("IDENTICAL");d=this.e.getSmilesExt().getSmilesCorrelation(e,n,p,null,null,null,null,!1,null,null,!1,1);return c.addXStr(0.2>d?"IDENTICAL":"IDENTICAL or CONFORMATIONAL ISOMERS (RMSD="+d+")")}var C=new JU.M4,v=w=null;if(y){if(null==e||null==n)return!1;var f=JS.SV.sValue(a[2]),x=f.equalsIgnoreCase("MAP"),y=f.equalsIgnoreCase("SMILES"),
D=x||f.equalsIgnoreCase("SMARTS");if(y||D)f=b>(g?4:3)?JS.SV.sValue(a[3]):null;var H="H".equalsIgnoreCase(f)||"allH".equalsIgnoreCase(f)||"bestH".equalsIgnoreCase(f),M=!H&&("polyhedra".equalsIgnoreCase(f)||"polyhedron".equalsIgnoreCase(f));if(M)d=this.e.getSmilesExt().mapPolyhedra(e.nextSetBit(0),n.nextSetBit(0),y,C);else{w=new JU.Lst;var v=new JU.Lst,E="all".equalsIgnoreCase(f)||"allH".equalsIgnoreCase(f),t="best".equalsIgnoreCase(f)||"bestH".equalsIgnoreCase(f);"stddev".equals(f)&&(f=null);var z=
f;if(null==f||H||E||t){if(!x&&!y||H&&M)return!1;z="/noaromatic"+(E||t?"/":" nostereo/")+this.e.getSmilesExt().getSmilesMatches(H?"H":"",null,e,null,32769,!0,!1)}else E=!0;d=this.e.getSmilesExt().getSmilesCorrelation(e,n,z,w,v,C,null,x,null,null,t,(y?1:2)|(!E&&!t?8:0));if(x){var V=w.size();if(0==V)return c.addXStr("");for(var ca=W(v.size()/V),u=new JU.Lst,Y=z=0;z<ca;z++){var R=JU.AU.newInt2(V);u.addLast(R);for(f=0;f<V;f++,Y++)R[f]=O(-1,[w.get(f).i,v.get(Y).i])}return E?c.addXList(u):0<u.size()?c.addXAII(u.get(0)):
c.addXStr("")}}}else{w=this.e.getPointVector(a[0],0);v=this.e.getPointVector(a[1],0);if(null==w||null==v)return!1;if(null!=q){b--;var G=q.size();if(G>w.size()||G!=v.size())return!1;for(var da=new JU.Lst,z=0;z<G;z++)da.addLast(w.get(q.get(z).intValue-1));w=da}switch(b){case 2:break;case 3:if(g)break;default:return!1}w.size()==v.size()&&(J.api.Interface.getInterface("JU.Eigen",this.vwr,"script"),d=JU.Measure.getTransformMatrix4(w,v,C,null))}return g||Float.isNaN(d)?c.addXFloat(d):c.addXM4(C.round(1E-7))}catch(I){if(N(I,
Exception))return this.e.evalError(null==I.getMessage()?I.toString():I.getMessage(),null),!1;throw I;}},"JS.ScriptMathProcessor,~A");r(k,"evaluateConnected",function(c,a,b,d){if(5<a.length)return!1;var e=-2147483648,f=2147483647,g=0,h=3.4028235E38,j=65535,l=null,q=null,y=!1,n=!1;switch(b){case 1275203608:q=-2147483648;g=null;if(0<a.length)switch(a[0].tok){case 2:q=a[0].intValue;break;case 4:g=JS.SV.sValue(a[0])}1275203608==d&&(l=JS.SV.getBitSet(c.getX(),!0));l=D(-1,[Integer.$valueOf(q),g,l]);this.vwr.shm.getShapePropertyData(21,
"getCenters",l)||(l[1]=null);return c.addXBs(null==l[1]?new JU.BS:l[1]);case 1228931586:l=c.getX();if(10!=l.tok||1!=a.length||10!=a[0].tok)return!1;l=l.value;q=a[0].value;a=new JU.Lst;g=this.vwr.ms.at;for(d=l.nextSetBit(0);0<=d;d=l.nextSetBit(d+1)){b=0;h=g[d].bonds;for(n=h.length;0<=--n;)q.get(h[n].getOtherAtom(g[d]).i)&&b++;a.addLast(Integer.$valueOf(b))}return c.addXList(a)}for(d=0;d<a.length;d++){var p=a[d];switch(p.tok){case 10:if((n=x(p.value,"JM.BondSet"))&&null!=l)return!1;if(null==l)l=p.value;
else if(null==q)q=p.value;else return!1;break;case 4:b=JS.SV.sValue(p);j=b.equalsIgnoreCase("hbond")?30720:JU.Edge.getBondOrderFromString(b);if(131071==j)return!1;break;case 3:y=!0;default:b=p.asInt();p=p.asFloat();if(2147483647!=f)return!1;-2147483648==e?(e=Math.max(b,0),g=p):(f=b,h=p)}}-2147483648==e?(e=1,f=100,g=0.1,h=1E8):2147483647==f&&(f=e,h=g,g=0.1);null==l&&(l=this.vwr.getAllAtoms());y&&null==q&&(q=l);return null!=q?(a=new JU.BS,this.vwr.makeConnections(g,h,j,1086324745,l,q,a,n,!1,0),c.addX(JS.SV.newV(10,
JM.BondSet.newBS(a)))):c.addXBs(this.vwr.ms.getAtomsConnected(e,f,j,l))},"JS.ScriptMathProcessor,~A,~N,~N");r(k,"evaluateContact",function(c,a){if(1>a.length||3<a.length)return!1;var b=0,d=100;switch(a[0].tok){case 3:case 2:d=JS.SV.fValue(a[b++]);break;case 10:break;default:return!1}if(b==a.length||!x(a[b].value,"JU.BS"))return!1;var e=JU.BSUtil.copy(a[b++].value),b=b<a.length?JU.BSUtil.copy(a[b].value):null,d=new J.atomdata.RadiusData(null,10<d?d/100:d,10<d?J.atomdata.RadiusData.EnumType.FACTOR:
J.atomdata.RadiusData.EnumType.OFFSET,J.c.VDW.AUTO),b=this.setContactBitSets(e,b,!0,NaN,d,!1);b.or(e);return c.addXBs(b)},"JS.ScriptMathProcessor,~A");r(k,"evaluateData",function(c,a){var b=0==a.length?"":JS.SV.sValue(a[0]);switch(a.length){case 0:case 1:break;case 2:case 3:if(10==a[0].tok)return c.addXStr(this.vwr.getModelFileData(b,JS.SV.sValue(a[1]),3==a.length&&JS.SV.bValue(a[2])));break;case 4:var b=a[1].asInt(),d=a[2].asInt(),e=a[3].asInt(),b=JU.Parser.parseFloatArrayFromMatchAndField(JS.SV.sValue(a[0]),
null,0,0,null,b,d,null,e);return c.addXStr(JU.Escape.escapeFloatA(b,!1));default:return!1}if(0==b.indexOf("data2d_"))return b=this.vwr.getDataObj(b,null,2),null==b?c.addXStr(""):2==a.length&&2==a[1].tok?(d=a[1].intValue,0>d&&(d+=b.length),0<=d&&d<b.length?c.addXStr(JU.Escape.escapeFloatA(b[d],!1)):c.addXStr("")):c.addXStr(JU.Escape.escapeFloatAA(b,!1));if(b.endsWith("*"))return c.addXList(this.vwr.getDataObj(b,null,0));if(0==b.indexOf("property_"))return b=this.vwr.getDataObj(b,null,1),null==b?c.addXStr(""):
c.addXStr(JU.Escape.escapeFloatA(b,!1));b=this.vwr.getDataObj(b,null,-1);return c.addXStr(null==b||2>b.length?"":""+b[1])},"JS.ScriptMathProcessor,~A");r(k,"evaluateDotDist",function(c,a,b,d){var e=1275069443==b,f,g,h=null;switch(a.length){case 2:if(2147483647==d){f=a[0];g=a[1];break}h=a[1];case 1:f=c.getX();g=a[0];break;case 0:if(e){f=c.getX();g=JS.SV.getVariable(new JU.P3);break}default:return!1}a=NaN;try{if(1275069442==b){var j=JU.P3.newP(c.ptValue(f,null));j.cross(j,c.ptValue(g,null));return c.addXPt(j)}var l=
7==g.tok?null:c.ptValue(g,null),q=this.e.planeValue(g);if(e){b=-2147483648==d?0:d&480;var j=32==b||64==b,y=480==b;switch(f.tok){case 7:case 10:var n=10==f.tok,p=10==g.tok,s=8==g.tok,m=n?f.value:null,k=p?g.value:null,u=n?null:f.getList(),r=p?null:g.getList(),x=j&&null!=h&&h.asBoolean();switch(g.tok){case 10:case 7:case 8:var w=this.vwr.ms.at;if(x){var E=NaN,D=2147483647;if(n){for(var v=m.nextSetBit(0);0<=v;v=m.nextSetBit(v+1)){var T=s?w[v].distanceSquared(l):this.e.getBitsetProperty(k,r,d,w[v],q,f.value,
null,!1,f.index,!1).floatValue();if(!(32==b?T>=E:T<=E))E=T,D=v}return c.addXBs(2147483647==D?new JU.BS:JU.BSUtil.newAndSetBit(D))}for(v=u.size();0<=--v;){var O=JS.SV.ptValue(u.get(v)),T=s?O.distanceSquared(l):this.e.getBitsetProperty(k,r,d,O,q,f.value,null,!1,2147483647,!1).floatValue();if(!(32==b?T>=E:T<=E))E=T,D=v}return c.addXInt(D)}if(y){if(null==k){for(var P=C(m.cardinality(),0),E=0,v=m.nextSetBit(0);0<=v;v=m.nextSetBit(v+1),E++)P[E]=w[v].distance(l);return c.addXAF(P)}D=C(m.cardinality(),k.cardinality(),
0);E=0;for(v=m.nextSetBit(0);0<=v;v=m.nextSetBit(v+1),E++){d=0;for(var H=k.nextSetBit(0);0<=H;H=k.nextSetBit(H+1),d++)D[E][d]=w[v].distance(w[H])}return c.addXAFF(D)}if(j){P=C(n?m.cardinality():u.size(),0);if(n){v=m.nextSetBit(0);for(E=0;0<=v;v=m.nextSetBit(v+1))P[E++]=this.e.getBitsetProperty(k,r,d,w[v],q,f.value,null,!1,f.index,!1).floatValue();return c.addXAF(P)}for(v=P.length;0<=--v;)P[v]=this.e.getBitsetProperty(k,r,d,JS.SV.ptValue(u.get(v)),q,null,null,!1,2147483647,!1).floatValue();return c.addXAF(P)}return c.addXObj(this.e.getBitsetProperty(m,
u,d,l,q,f.value,null,!1,f.index,!1))}}}var M=c.ptValue(f,null),t=this.e.planeValue(f);e?a=null!=q&&null!=h?JU.Measure.directedDistanceToPlane(M,q,JS.SV.ptValue(h)):null==t?null==q?l.distance(M):JU.Measure.distanceToPlane(q,M):JU.Measure.distanceToPlane(t,l):null!=t&&null!=q?a=t.x*q.x+t.y*q.y+t.z*q.z+t.w*q.w:(null!=t?M=JU.P3.new3(t.x,t.y,t.z):null!=q&&(l=JU.P3.new3(q.x,q.y,q.z)),a=M.dot(l))}catch(z){if(!N(z,Exception))throw z;}return c.addXFloat(a)},"JS.ScriptMathProcessor,~A,~N,~N");r(k,"evaluateHelix",
function(c,a){if(1>a.length||5<a.length)return!1;var b=2<a.length?3:1,d=b>=a.length?"array":JS.SV.sValue(a[b]),b=JS.T.getTokFromName(d);if(2<a.length){var e=c.ptValue(a[0],null),f=c.ptValue(a[1],null);if(0==b||9!=a[2].tok||null==e||null==f)return!1;var g=JU.Quat.newP4(a[2].value),g=JU.Measure.computeHelicalAxis(e,f,g);return null==g?!1:c.addXObj(JU.Escape.escapeHelical(d,b,e,f,g))}d=x(a[0].value,"JU.BS")?a[0].value:this.vwr.ms.getAtoms(1094715412,Integer.$valueOf(a[0].asInt()));switch(b){case 134217751:case 1073741854:case 1665140738:return c.addXObj(this.getHelixData(d,
b));case 134217729:return c.addXFloat(this.getHelixData(d,134217729).floatValue());case 135176:case 1745489939:return c.addXObj(this.getHelixData(d,b));case 1275068418:g=this.getHelixData(d,1073742001);if(null==g)break;return c.addXAS(g)}return!1},"JS.ScriptMathProcessor,~A");r(k,"getHelixData",function(c,a){var b=c.nextSetBit(0);return 0>b?"null":this.vwr.ms.at[b].group.getHelixData(a,this.vwr.getQuaternionFrame(),this.vwr.getInt(553648142))},"JU.BS,~N");r(k,"evaluateInChI",function(c,a){var b=c.getX(),
d=0<a.length?JS.SV.sValue(a[0]):"fixedh?";d.toLowerCase().equals("standard")&&(d="");var e=JS.SV.getBitSet(b,!0),b=null==e?JS.SV.sValue(b):null,e=this.vwr.getInchi(e,b,d);return 0<=d.indexOf("model")?c.addXMap(this.vwr.parseJSONMap(e)):c.addXStr(e)},"JS.ScriptMathProcessor,~A");r(k,"evaluateFind",function(c,a){var b=c.getX(),d=7==b.tok,e=10==b.tok,f=0==a.length,g=0==a.length?0:a[0].tok,h=f||4!=g?"":JS.SV.sValue(a[0]),j=1<a.length&&1073742334==a[1].tok,l=0==g?0:a[a.length-1].tok,q=0==l?JS.SV.vF:a[a.length-
1],y=!d&&1073742335==l,l=d&&4==q.tok&&"index".equalsIgnoreCase(JS.SV.sValue(q)),n=1<a.length&&1073742335!=a[1].tok&&1073742334!=a[1].tok&&10!=a[1].tok?JS.SV.sValue(a[1]):"",p=!d&&!j&&h.equalsIgnoreCase("SEQUENCE"),s=!d&&!j&&h.equalsIgnoreCase("SEQ");if(h.toUpperCase().startsWith("SMILES/")){h.endsWith("/")||(h+="/");var m=h.substring(6)+"//";JV.JC.isSmilesCanonical(m)?(n="SMILES",h="CHEMICAL"):(h="SMILES",n=m+n)}else h.toUpperCase().startsWith("SMARTS/")&&(h.endsWith("/")||(h+="/"),n=h.substring(6)+
(0==n.length?"//":n),h="SMARTS");var k=null,r=!1,A=0<a.length&&134218753==a[0].tok;if(!A&&4==b.tok)switch(a.length){case 1:if(b.value.startsWith("InChI=")&&h.equalsIgnoreCase("SMILES"))return c.addXStr(this.vwr.getInchi(null,b.value,"SMILES"+n));r=!h.equalsIgnoreCase("SMILES");break;case 2:case 3:j||y?r=!0:b.value.startsWith("InChI=")?h.equalsIgnoreCase("SMARTS")?k=this.vwr.getInchi(null,b.value,"SMILES"):r=!0:3>=n.length&&0==n.$replace("m"," ").$replace("i"," ").$replace("v"," ").trim().length&&
(r=!0)}var x=!r&&h.equalsIgnoreCase("SMILES"),w=A||!r&&h.equalsIgnoreCase("SMARTS"),E=!d&&!r&&h.equalsIgnoreCase("CHEMICAL"),C=!d&&!r&&h.equalsIgnoreCase("MF"),v=!d&&!r&&h.equalsIgnoreCase("CELLFORMULA"),T=e&&!d&&h.equalsIgnoreCase("INCHI"),W=e&&!d&&h.equalsIgnoreCase("INCHIKEY"),P=!x&&!w&&10==g&&0<=n.toLowerCase().indexOf("map"),r=!x&&!w&&(10==b.tok||8==b.tok||7==b.tok)&&h.toLowerCase().startsWith("equivalent");try{if(r)switch(b.tok){case 10:return c.addXBs(this.vwr.ms.getSymmetryEquivAtoms(b.value,
null,null));case 8:return c.addXList(this.vwr.getSymmetryEquivPoints(JU.Point3fi.newPF(b.value,0),h+n));case 7:for(var H=new JU.Lst,M=b.getList(),t=0,z=M.size();t<z;t++){var V=JS.SV.ptValue(M.get(t));if(null==V)return!1;H.addLast(JU.Point3fi.newPF(V,0))}return c.addXList(this.vwr.getSymmetryEquivPointList(H,h+n))}else if(T||W)return W&&(n+=" key"),c.addXStr(this.vwr.getInchi(JS.SV.getBitSet(b,!0),null,n));if(E){var ca=e?b.value:null,R=null==ca?JS.SV.sValue(b):this.vwr.getOpenSmiles(ca),R=(0==R.length?
"":this.vwr.getChemicalInfo(R,n.toLowerCase(),ca)).trim();R.startsWith("InChI")&&(R=JU.PT.rep(JU.PT.rep(R,"InChI=",""),"InChIKey=",""));return c.addXStr(R)}if(x||w||e){var e=P?0:x||w?2:1,G=e<a.length&&10==a[e].tok?a[e++].value:null,da=4==q.tok&&"bonds".equalsIgnoreCase(JS.SV.sValue(q)),M=da||y,H=!1,e=null;switch(b.tok){case 134218753:H=!0;case 7:case 4:null==k&&!d&&(k=b.value);if((x||w)&&1==a.length&&null==n||null!=G)return!1;if(n.equalsIgnoreCase("mf"))e=this.vwr.getSmilesMatcher().getMolecularFormula(k.toString(),
w,y);else{var I=A?a[0].value:n,B=!0,z=!1;if(A)switch(a.length){case 3:B=JS.SV.bValue(a[2]);case 2:z=JS.SV.bValue(a[1])}else switch(a.length){case 4:B=JS.SV.bValue(a[3]);case 3:z=JS.SV.bValue(a[2])}var X=!A&&I.equals("chirality"),G=!z&&(!B||!w&&!X);try{if(d){for(var Q=b.getList(),F=Array(Q.size()),t=F.length;0<=--t;)F[t]=Q.get(t).value;k=F}e=this.e.getSmilesExt().getSmilesMatches(I,k,null,null,w?2:1,!z,!B);if(d)return c.addXObj(e)}catch(U){if(N(U,Exception))return System.out.println(U.getMessage()),
c.addXInt(-1);throw U;}var ja=X?1:(JU.AU.isAI(e),e.length);if(0==ja&&"MF_FAILED"!==this.vwr.getSmilesMatcher().getLastException()&&(H||0>k.toLowerCase().indexOf("noaromatic")&&0>k.toLowerCase().indexOf("strict")))e=this.e.getSmilesExt().getSmilesMatches(I,k,null,null,16|(w?2:1),!z,!B);if(G)return c.addXInt(!B&&0<ja?1:ja)}break;case 10:B=b.value;if(h.equalsIgnoreCase("spacegroup"))return F=this.vwr.findSpaceGroup(null,B,null,null,null,null,"parent".equals(n.toLowerCase())?8:0),null!=F&&(m=F.toString(),
F=JU.PT.rep(m.substring(m.indexOf(" ")+1)," #","\t")),c.addXStr(F.toString());if(h.equalsIgnoreCase("crystalClass"))return z=B.nextSetBit(0),t=null,2!=a.length&&(t=new JU.BS,t.set(z)),c.addXList(this.vwr.ms.generateCrystalClass(z,null!=t?this.vwr.ms.getAtomSetCenter(t):10==q.tok?this.vwr.ms.getAtomSetCenter(q.value):JS.SV.ptValue(q)));if(C&&0!=n.length)return c.addXBs(JU.JmolMolecule.getBitSetForMF(this.vwr.ms.at,B,n));if(C||v)return c.addXStr(this.vwr.getFormulaForAtoms(B,C?"MF":"CELLFORMULA",y));
if(p||s){var Z=q.asString().equalsIgnoreCase("H"),M=(new Boolean(M|Z)).valueOf();return c.addXStr(this.vwr.getSmilesOpt(B,-1,-1,(M?7340032|(Z?9437184:0):0)|(s?34603008:1048576),null))}if(P){var K=null,z=Q=I=null,L=3==a.length?JS.SV.sValue(q):null,$=null==L||L.equals("%i")||L.equals("number")?"i":L.equals("%a")||L.equals("name")?"a":L.equals("%D")||L.equals("index")?"D":"?";null==L&&(L="number");F=null;n=n.$replace("map","").trim();h=this.vwr.getSmilesOpt(B,0,0,0,n);if(B.cardinality()!=G.cardinality())F=
"atom sets are not the same size";else try{0<n.length&&(h="/"+n+"/"+h);var I=this.vwr.getSmilesMatcher().getCorrelationMaps(h,this.vwr.ms.at,this.vwr.ms.ac,B,137)[0],aa=this.vwr.getSmilesMatcher().getCorrelationMaps(h,this.vwr.ms.at,this.vwr.ms.ac,G,137);if(0<aa.length){K=O(B.length(),0);for(t=K.length;0<=--t;)K[t]=-1;Q=aa[0];for(t=I.length;0<=--t;)K[I[t]]=Q[t];var z=D(I.length,2,null),ka=JU.BS.copy(B);ka.or(G);var ea="?"==$?Array(ka.length()):null;null!=ea&&(ea=this.e.getCmdExt().getBitsetIdentFull(ka,
L,!1,2147483647,!1,ea));for(var ha=this.vwr.ms.at,q=0,t=B.nextSetBit(0);0<=t;t=B.nextSetBit(t+1)){var fa=K[t];if(-1!=fa){var ga;switch($.charCodeAt(0)){case 97:ga=D(-1,[ha[t].getAtomName(),ha[fa].getAtomName()]);break;case 105:ga=D(-1,[Integer.$valueOf(ha[t].getAtomNumber()),Integer.$valueOf(ha[fa].getAtomNumber())]);break;case 68:ga=D(-1,[Integer.$valueOf(t),Integer.$valueOf(fa)]);break;default:ga=D(-1,[ea[t],ea[fa]])}z[q++]=ga}}}}catch(la){if(N(la,Exception))F=la.getMessage();else throw la;}var S=
new java.util.Hashtable;S.put("BS1",B);S.put("BS2",G);S.put("SMILES",h);null==F?(S.put("SMILEStoBS1",I),S.put("SMILEStoBS2",Q),S.put("BS1toBS2",K),S.put("MAP1to2",z),S.put("key",L)):S.put("error",F);return c.addXMap(S)}if(x||w)h=1<a.length&&10==a[1].tok?this.vwr.getSmilesOpt(a[1].value,0,0,0,n):n;n=n.toUpperCase();if(0<=n.indexOf("INCHI"))return c.addXStr(this.vwr.getInchi(B,null,"SMILES/"+n));if(n.equals("MF"))k=this.e.getSmilesExt().getSmilesMatches("",null,B,G,1,!0,!1),e=this.vwr.getSmilesMatcher().getMolecularFormula(k.toString(),
!1,y);else if(da)K=this.vwr.getSmilesMatcher().getCorrelationMaps(h,this.vwr.ms.at,this.vwr.ms.ac,B,(x?1:2)|8),e=0<K.length?this.vwr.ms.getDihedralMap(K[0]):O(0,0);else if(n.equals("MAP"))e=K=this.vwr.getSmilesMatcher().getCorrelationMaps(h,this.vwr.ms.at,this.vwr.ms.ac,B,(x?1:2)|144);else{var ia=(x?0<=n.indexOf("OPEN")?5:1:2)|(y&&0==h.length?22020096:0);x&&0<=n.indexOf("/ALL/")&&(ia|=32768);if(0<=n.indexOf("/MOLECULE/")){for(var ma=this.vwr.ms.getMolecules(),ba=new JU.Lst,t=0;t<ma.length;t++)if(ma[t].atomList.intersects(B)){var pa=
this.e.getSmilesExt().getSmilesMatches(h,null,ma[t].atomList,G,ia,!y,!1);pa.isEmpty()||ba.addLast(pa)}e=ba}else e=this.e.getSmilesExt().getSmilesMatches(h,null,B,G,ia,!y,!1)}}null==e&&this.e.invArg();return c.addXObj(e)}}catch(na){if(N(na,Exception))this.e.evalError(na.getMessage(),null);else throw na;}B=new JU.BS;G=d?b.getList():null;if(d&&4!=g&&0!=g){b=a[0];t=0;for(z=G.size();t<z;t++)JS.SV.areEqual(G.get(t),b)&&B.set(t);e=O(B.cardinality(),0);q=0;for(t=B.nextSetBit(0);0<=t;t=B.nextSetBit(t+1))e[q++]=
t+1;return c.addXAI(e)}g=0<=n.indexOf("v");t=0<=n.indexOf("i")||j;j=0<=n.indexOf("m");n=0==h.length;r=!n&&!r&&a.length==(l?3:2);if(d||r){p=r?this.getPatternMatcher():null;I=null;if(r)try{I=p.compile(h,t)}catch(oa){if(N(oa,Exception))this.e.evalError(oa.toString(),null);else throw oa;}Q=n?null:JS.SV.strListValue(b);p=n?G.size():Q.length;JU.Logger.debugging&&JU.Logger.debug("finding "+h);z=0;K=null;b=j?new JU.Lst:null;L="";for(t=0;t<p;t++){if(n)switch(F=G.get(t),F.tok){case 6:F=F.getMap().isEmpty()!=
f;break;case 7:F=0==F.getList().size()!=f;break;case 4:F=0==F.asString().length!=f;break;default:F=!0}else r?(L=Q[t],K=I.matcher(L),F=K.find()):F=0<=JS.SV.sValue(G.get(t)).indexOf(h);if(j&&F||!j&&F==!g)z++,B.set(t),j&&b.addLast(g?L.substring(0,K.start())+L.substring(K.end()):K.group())}if(!d)return j?c.addXStr(1==b.size()?b.get(0):""):g?c.addXBool(1==z):j?c.addXStr(0==z?"":K.group()):c.addXInt(0==z?0:K.start()+1);if(l){H=new JU.Lst;for(t=B.nextSetBit(0);0<=t;t=B.nextSetBit(t+1))H.addLast(JS.SV.newI(t+
1));return c.addXList(H)}if(j){d=Array(z);if(0<z)for(t=Q.length;0<=--t;)B.get(t)&&(--z,d[z]=j?b.get(z):Q[t]);return c.addXAS(d)}d=new JU.Lst;for(t=B.nextSetBit(0);0<=t;t=B.nextSetBit(t+1))d.addLast(G.get(t));return c.addXList(d)}return p?c.addXStr(this.vwr.getJBR().toStdAmino3(JS.SV.sValue(b))):c.addXInt(JS.SV.sValue(b).indexOf(h)+1)},"JS.ScriptMathProcessor,~A");r(k,"evaluateGetProperty",function(c,a,b,d){var e=a.length,f=d&&1275082241==b,g=d&&1275068725==b,h=1275068446==b,j=0,l=0==e?0:a[0].tok;
if(2==e&&(7==l||6==l||14==l))return c.addXObj(this.vwr.extractProperty(a[0].value,a[1].value.toString(),-1));var q=d&&1==e&&10==a[0].tok?a[0].value:null,k=null==q&&0<e?JS.SV.sValue(a[j++]):"",l=k,n=l.toLowerCase();!f&&0>n.indexOf("[select ")&&(l=n);var p=!1;l.equals("json")&&e>j&&(p=!0,l=JS.SV.sValue(a[j++]));var s=null;if(d){s=c.getX();switch(s.tok){case 10:break;case 4:var m=s.value,e=Array(3);m.startsWith("$")?(m=m.substring(1),a=this.vwr.shm.getShapeIdFromObjectName(m),0<=a&&(e[0]=m,this.vwr.shm.getShapePropertyData(a,
"index",e),null!=e[1]&&!k.equals("index")&&(m=e[1].intValue(),e[1]=this.vwr.shm.getShapePropertyIndex(a,k.intern(),m)))):(a=JV.JC.shapeTokenIndex(JS.T.getTokFromName(m)),0<=a&&(e[0]=k,e[1]=Integer.$valueOf(-1),this.vwr.shm.getShapePropertyData(a,k.intern(),e)));return null==e[1]?c.addXStr(""):c.addXObj(e[1]);case 7:if(g){h=s.getList();if(0==e)return c.addXObj(this.getMinMax(h,1275068725,!0));d=new java.util.Hashtable;l=1<e?JS.SV.sValue(a[e-1]):null;null!=l&&e--;n=Array(e);for(m=0;m<e;m++)n[m]=JS.SV.sValue(a[m]);
m=0;for(p=h.size();m<p;m++)if(j=h.get(m),6==j.tok){k=j.getMap();a="";for(s=0;s<e;s++)q=k.get(n[s]),a+=(0==s?"":l)+JS.SV.sValue(q);k=d.get(a);null==k&&d.put(a,k=JS.SV.newV(7,new JU.Lst));k.getList().addLast(j)}return c.addXMap(d)}if(null!=q){e=s.getList();a=new JU.Lst;for(m=q.nextSetBit(0);0<=m;m=q.nextSetBit(m+1))a.addLast(e.get(m));return c.addXList(a)}default:if(1275068725==b&&6==s.tok){d=new java.util.Hashtable;for(e=s.getMap().entrySet().iterator();e.hasNext()&&((m=e.next())||1);)a=m.getKey(),
j=m.getValue().asString(),h=d.get(j),null==h&&d.put(j,h=new JU.Lst),h.addLast(a);if("count".equals(n))for(e=d.entrySet().iterator();e.hasNext()&&((m=e.next())||1);)m.setValue(Integer.$valueOf(m.getValue().size()));return c.addXMap(d)}f&&(l="[SELECT "+l+"]");return c.addXObj(this.vwr.extractProperty(s,l,-1))}!n.startsWith("bondinfo")&&(!n.startsWith("atominfo")&&!n.startsWith("modelkitinfo"))&&(l="atomInfo."+l)}m="";if(l.equalsIgnoreCase("fileContents")&&2<=e){j=JS.SV.sValue(a[1]);for(m=2;m<e;m++)j+=
"|"+JS.SV.sValue(a[m]);m=j;j=e}else if(e>j)switch(a[j].tok){case 10:m=a[j++].value;l.equalsIgnoreCase("bondInfo")&&(e>j&&10==a[j].tok)&&(m=D(-1,[m,a[j].value]));break;case 6:case 4:this.vwr.checkPropertyParameter(l)&&(m=a[j++].value)}if(d&&(m=s.value,0>m.nextSetBit(0)))return c.addXStr("");h&&!d&&(l="auxiliaryInfo.models."+l);l=JU.PT.rep(l,".[","[");m=this.vwr.getProperty(null,l,m);j<e&&(m=this.vwr.extractProperty(m,a,j));return c.addXObj(p?JS.SV.safeJSON("value",m):JS.SV.isVariableType(m)?m:JU.Escape.toReadable(l,
m))},"JS.ScriptMathProcessor,~A,~N,~B");r(k,"evaluateFormat",function(c,a,b,d){if(d&&1<b.length)return!1;var e=2>b.length||1287653388==a?c.getX():null,f;a=-1;var g=null;switch(b.length){case 0:f="%U";break;case 1:if(null==e)return!1;switch(b[0].tok){case 7:f=null;break;case 4:f=b[0].value;a=JS.SV.getFormatType(f);0<=a&&(g=e);break;default:return!1}break;case 2:4==b[0].tok?(f=JS.SV.sValue(b[0]),g=b[1],4==g.tok&&!"string".equalsIgnoreCase(f)&&(g=b[0],f="string")):(g=b[0],f=JS.SV.sValue(b[1]));a=JS.SV.getFormatType(f);
break;default:if(f=b[0].value,a=JS.SV.getFormatType(f),0<=a)return!1}switch(a){case -1:break;case 28:case 32:case 36:return 12==g.tok&&c.addXStr(this.matToString(g.value,a));default:return c.addXObj(JS.SV.getFormat(g,a))}var h=null!=e&&10==e.tok?e.value:null;if(!d&&0<b.length&&null==h&&null!=f){if(2==b.length){d=e.getList();e=g.getList();if(null==d||null==e)return!1;e=JS.SV.getVariableList(this.getSublist(d,e))}b=D(-1,[b[0],e]);e=null}if(null==e){if(null==f||0<=a&&2!=b.length)return!1;if(0<=a||2>
b.length||7!=b[1].tok)return a=JS.SV.format(b,a),"string"==typeof a?c.addXStr(a):c.addXObj(a);f=b[1].getList();b=D(-1,[b[0],null]);h=Array(f.size());for(d=h.length;0<=--d;)b[1]=f.get(d),h[d]=JS.SV.format(b,a).toString();return c.addXAS(h)}if(7==e.tok&&null==f)return d=e.getList(),e=b[0].getList(),a=this.getSublist(d,e),c.addXList(a);a=null;a=null==f?"":null==h?JS.SV.sprintf(JU.PT.formatCheck(f),e):this.e.getCmdExt().getBitsetIdent(h,f,e.value,!0,e.index,!1);return c.addXObj(a)},"JS.ScriptMathProcessor,~N,~A,~B");
r(k,"getSublist",function(c,a){for(var b=new JU.Lst,d,e,f,g=0,h=c.size();g<h;g++)switch(e=c.get(g),e.tok){case 6:d=e.getMap();f=new JU.Lst;for(var j=0,l=a.size();j<l;j++)e=d.get(JS.SV.sValue(a.get(j))),f.addLast(null==e?JS.SV.newS(""):e);b.addLast(JS.SV.getVariableList(f));break;case 7:d=new java.util.Hashtable;f=e.getList();j=0;for(l=Math.min(f.size(),a.size());j<l;j++)d.put(JS.SV.sValue(a.get(j)),f.get(j));b.addLast(JS.SV.getVariable(d))}return b},"JU.Lst,JU.Lst");r(k,"evaluateList",function(c,
a,b){var d=b.length,e=c.getX(),f=7==e.tok,g;switch(a){case 1275335685:return 2==d&&c.addX(e.pushPop(b[0],b[1]))||1==d&&c.addX(e.pushPop(null,b[0]));case 1275334681:return 1==d&&c.addX(e.pushPop(b[0],null))||0==d&&c.addX(e.pushPop(null,null));case 1275069441:if(1!=d&&2!=d)return!1;break;case 1275068435:if(0!=d||!f)return!1;break;case 1275069447:case 1275069446:break;default:if(1!=d)return!1}if(2==d)return d=this.listSpecial(a,e,JS.SV.sValue(b[0]),b[1],f),null!=d&&c.addXObj(d);g=1275068435==a?null:
0==d?JS.SV.newV(1073742327,"all"):b[0];var h=null!=g&&1073742327==g.tok;if(!f&&4!=e.tok)return c.binaryOp(JS.MathExt.opTokenFor(a),e,g);var j=JS.SV.isScalar(e),l=null==g||JS.SV.isScalar(g),q=null,k=null;b=e.getList();var n=null==g?null:g.getList(),p=null,s=null;f?d=b.size():j?d=2147483647:(p=JU.PT.split(JS.SV.sValue(e),"\n"),q=C(d=p.length,0),JU.PT.parseFloatArrayData(p,q));if(h&&1275069446!=a){a=0;if(f)for(e=d;0<=--e;)a+=JS.SV.fValue(b.get(e));else if(!j)for(e=d;0<=--e;)a+=q[e];return c.addXFloat(a)}if(1275069446==
a&&4==g.tok){f=new JU.SB;if(j)f.append(JS.SV.sValue(e));else{j=h?"":g.value.toString();for(e=0;e<d;e++)f.append(0<e?j:"").append(JS.SV.sValue(b.get(e)))}return c.addXStr(f.toString())}var m=null;l?m=g:7==g.tok?d=Math.min(d,n.size()):(s=JU.PT.split(JS.SV.sValue(g),"\n"),k=C(s.length,0),JU.PT.parseFloatArrayData(s,k),d=Math.min(d,k.length));var r=JS.MathExt.opTokenFor(a);if(f&&h)return d=new JU.Lst,c.addXList(this.addAllLists(e.getList(),d));var h=j?e:null,u,A=2147483647==d;A&&(d=1);for(var x=Array(d),
e=0;e<d;e++){u=l?m:7==g.tok?n.get(e):Float.isNaN(k[e])?JS.SV.getVariable(JS.SV.unescapePointOrBitsetAsVariable(s[e])):JS.SV.newF(k[e]);j||(h=f?b.get(e):Float.isNaN(q[e])?JS.SV.getVariable(JS.SV.unescapePointOrBitsetAsVariable(p[e])):JS.SV.newF(q[e]));if(1275069446==a&&7!=h.tok){var w=new JU.Lst;w.addLast(h);h=JS.SV.getVariableList(w)}if(null==u?!c.propOp(r,h):!c.binaryOp(r,h,u))return!1;x[e]=c.getX()}return A?c.addXObj(x[0]):c.addXAV(x)},"JS.ScriptMathProcessor,~N,~A");k.opTokenFor=r(k,"opTokenFor",
function(c){switch(c){case 1275069441:case 1275069446:return JS.T.tokenPlus;case 1275068931:return JS.T.tokenMinus;case 1275068929:return JS.T.tokenTimes;case 1275068930:return JS.T.tokenMul3;case 1275068928:return JS.T.tokenDivide;case 1275068435:return JS.T.tokenLength}return null},"~N");r(k,"listSpecial",function(c,a,b,d,e){var f=null,g=null,h=null;if(1275069441==c){f=e?JS.SV.strListValue(a):JU.PT.split(JS.SV.sValue(a),"\n");g=7==d.tok?JS.SV.strListValue(d):JU.PT.split(JS.SV.sValue(d),"\n");a=
Math.max(f.length,g.length);h=Array(a);for(c=0;c<a;c++)h[c]=(c>=f.length?"":f[c])+b+(c>=g.length?"":g[c]);return h}if(1073742335!=d.tok)return null;f=a.getList();(g=0==b.length)&&(b=",");if(1275069446==c){e=Array(f.size());for(c=f.size();0<=--c;){var j=f.get(c).getList();if(null==j)e[c]=f.get(c);else{var l=new JU.SB;a=0;for(d=j.size();a<d;a++){0<a&&l.append(b);var q=j.get(a),h=null;if(4==q.tok){var k=q.value;g&&(h='"'+JU.PT.rep(k,'"','""')+'"')}l.append(null==h?""+q.asString():h)}e[c]=JS.SV.newS(l.toString())}}return e}e=
new JU.Lst;g&&(b="\x00");j=O(2,0);c=0;for(l=f.size();c<l;c++){a=f.get(c).asString();if(g){j[1]=0;for(d=j[0]=0;;){h=JU.PT.getCSVString(a,j);if(null==h){if(-1==j[1]){a+=++c<l?"\n"+f.get(c).asString():'"';j[1]=d;continue}a=a.substring(0,d)+a.substring(d).$replace(",","\x00");break}a=a.substring(0,d)+a.substring(d,j[0]).$replace(",","\x00")+h+a.substring(j[1]);j[1]=d=j[0]+h.length}}q=a.$plit(b);k=new JU.Lst;a=0;for(d=q.length;a<d;a++){h=q[a];if(0>h.indexOf("."))try{k.addLast(JS.SV.newI(Integer.parseInt(h)));
continue}catch(n){if(!N(n,Exception))throw n;}else try{k.addLast(JS.SV.getVariable(Float.$valueOf(Float.parseFloat(h))));continue}catch(p){if(!N(p,Exception))throw p;}k.addLast(JS.SV.newS(h))}e.addLast(JS.SV.getVariableList(k))}return JS.SV.getVariableList(e)},"~N,JS.SV,~S,JS.SV,~B");r(k,"addAllLists",function(c,a){for(var b=c.size(),d=0;d<b;d++){var e=c.get(d);7==e.tok?this.addAllLists(e.getList(),a):a.addLast(e)}return a},"JU.Lst,JU.Lst");r(k,"evaluateLoad",function(c,a,b){if(!this.checkAccess()||
1>a.length||3<a.length)return!1;var d=JV.FileManager.fixDOSName(JS.SV.sValue(a[0])),e=1<a.length&&1073742335==a[1].tok,f=this.vwr.async||2<a.length&&1073742335==a[a.length-1].tok,g=1<a.length&&2==a[1].tok?a[1].asInt():-1;a=1<a.length&&a[1].asString().equalsIgnoreCase("JSON");if(e)return c.addXMap(this.vwr.fm.getFileAsMap(d,null,!1));e=d.startsWith("?");if(JV.Viewer.isJS&&(e||f)){if(b&&e)return c.addXStr("");d=this.e.loadFileAsync("load()_",d,c.oPt,!0)}b=b?this.vwr.fm.getFilePath(d,!1,!1):this.vwr.getFileAsString4(d,
g,!1,!1,!0,"script");try{return a?c.addXObj(this.vwr.parseJSON(b)):c.addXStr(b)}catch(h){if(N(h,Exception))return!1;throw h;}},"JS.ScriptMathProcessor,~A,~B");r(k,"evaluateMath",function(c,a,b){a=JS.SV.fValue(a[0]);switch(b){case 134218246:a=Math.sqrt(a);break;case 134218244:a=Math.sin(3.141592653589793*a/180);break;case 134218245:a=Math.cos(3.141592653589793*a/180);break;case 134218255:a=Math.tan(3.141592653589793*a/180);break;case 134218241:a=180*Math.acos(a)/3.141592653589793}return c.addXFloat(a)},
"JS.ScriptMathProcessor,~A,~N");r(k,"evaluateMeasure",function(c,a,b){var d=0;switch(b){case 1745489939:b=null;for(var e=new JU.Lst,f=C(-1,[3.4028235E38,3.4028235E38]),g=null,h=null,j=!1,l=!1,q=0,k=!1,n=null,p=0,s=3.4028235E38,m=!1,r=!1,n=0;n<a.length;n++)switch(a[n].tok){case 10:var u=a[n].value;0==u.length()&&(k=!0);e.addLast(u);d++;p++;break;case 8:e.addLast(JU.Point3fi.newPF(a[n].value,0));d++;break;case 2:case 3:f[q++%2]=JS.SV.fValue(a[n]);break;case 4:u=JS.SV.sValue(a[n]);if(u.startsWith("property_")){b=
u;break}u.equalsIgnoreCase("vdw")||u.equalsIgnoreCase("vanderwaals")?s=(n+1<a.length&&2==a[n+1].tok?a[++n].asInt():100)/100:u.equalsIgnoreCase("notConnected")?l=!0:u.equalsIgnoreCase("connected")?j=!0:u.equalsIgnoreCase("minArray")?m=1<=p:u.equalsIgnoreCase("asArray")||0==u.length?r=1<=p:JM.Measurement.isUnits(u)?h=u.toLowerCase():g=d+":"+u;break;default:return!1}if(2>d||4<d||2<q||l&&j)return!1;if(k||3.4028235E38!=s&&(2!=p||2!=d))return c.addXStr("");n=3.4028235E38==s?new J.atomdata.RadiusData(f,
0,null,null):new J.atomdata.RadiusData(null,s,J.atomdata.RadiusData.EnumType.FACTOR,J.c.VDW.AUTO);a=this.vwr.newMeasurementData(null,e).set(0,null,n,b,g,h,null,j,l,null,!0,0,0,null,NaN,null).getMeasurements(r,m);return c.addXObj(a);case 134217729:if(3!=(d=a.length)&&4!=d)return!1;break;default:if(2!=(d=a.length))return!1}b=Array(d);for(n=0;n<d;n++)if(null==(b[n]=c.ptValue(a[n],null)))return!1;switch(d){case 2:return c.addXFloat(b[0].distance(b[1]));case 3:return c.addXFloat(JU.Measure.computeAngleABC(b[0],
b[1],b[2],!0));case 4:return c.addXFloat(JU.Measure.computeTorsion(b[0],b[1],b[2],b[3],!0))}return!1},"JS.ScriptMathProcessor,~A,~N");r(k,"evaluateModulation",function(c,a){var b="",d=NaN,e=null;switch(a.length){case 0:break;case 1:switch(a[0].tok){case 8:e=a[0].value;break;case 4:b=a[0].asString();break;default:d=JS.SV.fValue(a[0])}break;case 2:b=JS.SV.sValue(a[0]);d=JS.SV.fValue(a[1]);break;default:return!1}null==e&&1E6>d&&(e=JU.P3.new3(d,d,d));d=c.getX();d=10==d.tok?d.value:new JU.BS;return c.addXList(this.vwr.ms.getModulationList(d,
(b+"D").toUpperCase().charAt(0),e))},"JS.ScriptMathProcessor,~A");r(k,"evaluatePlane",function(c,a,b,d){if(134219777==b&&3!=a.length&&4!=a.length||134217763==b&&2!=a.length&&3!=a.length&&4!=a.length||0==a.length||4<a.length)return!1;var e,f,g=this.e.planeValue(a[0]),h;switch(a.length){case 1:if(134217750==b){if(7!=a[0].tok)return!1;g=JS.SV.flistValue(a[0],3);if(3!=g.length)return!1;b=this.vwr.getOperativeSymmetry();if(null==b)return!1;g=JU.P3.new3(g[0],g[1],g[2]);b.toCartesian(g,!1);g=JU.P4.new4(g.x,
g.y,g.z,0);if(d)break}return null!=g&&c.addXPt4(g);case 2:if(134217763==b){e=this.e.planeValue(a[1]);if(null==e)return!1;d=new JU.P3;b=new JU.V3;h=new JU.V3;if(null!=g)return a=JU.Measure.getIntersectionPP(g,e),null==a?c.addXStr(""):c.addXList(a);f=c.ptValue(a[0],null);return null==f?c.addXStr(""):c.addXPt(JU.Measure.getIntersection(f,null,e,d,b,h))}case 3:case 4:switch(b){case 134219777:b=4==a.length?JS.SV.fValue(a[3]):NaN;g=this.e.getHklPlane(JU.P3.new3(JS.SV.fValue(a[0]),JS.SV.fValue(a[1]),JS.SV.fValue(a[2])),
b,null);if(d)break;return null!=g&&c.addXPt4(g);case 134217763:e=c.ptValue(a[0],null);f=c.ptValue(a[1],null);if(null==e||null==f)return c.addXStr("");f=JU.V3.newV(f);f.normalize();g=this.e.planeValue(a[2]);if(null!=g)return d=new JU.P3,b=new JU.V3,h=new JU.V3,e=JU.Measure.getIntersection(e,f,g,d,b,h),null==e?c.addXStr(""):c.addXPt(e);d=c.ptValue(a[2],null);if(null==d)return c.addXStr("");b=new JU.V3;d=JU.P3.newP(d);if(3==a.length)return JU.Measure.projectOntoAxis(d,e,f,b),c.addXPt(d);g=JS.SV.fValue(a[3]);
a=JU.P3.newP(d);JU.Measure.projectOntoAxis(d,e,f,b);a=a.distance(d);e=new JU.Lst;a==g?e.addLast(d):a<g&&(a=Math.sqrt(g*g-a*a),b.scaleAdd2(a,f,d),e.addLast(JU.P3.newP(b)),b.scaleAdd2(-a,f,d),e.addLast(JU.P3.newP(b)));return c.addXList(e)}switch(a[0].tok){case 2:case 3:if(3==a.length)return g=JS.SV.fValue(a[0]),d=JS.SV.fValue(a[1]),a=JS.SV.fValue(a[2]),b=JU.V3.new3(0,0,1),f=JU.P3.new3(0,1,0),a=JU.Quat.newVA(f,a),a.getMatrix().rotate(b),f.set(0,0,1),a=JU.Quat.newVA(f,d),a.getMatrix().rotate(b),f.setT(b),
f.scale(g),g=new JU.P4,JU.Measure.getPlaneThroughPoint(f,b,g),c.addXPt4(g);break;case 10:case 8:e=c.ptValue(a[0],null);f=c.ptValue(a[1],null);if(null==f)return!1;d=2<a.length&&(10==a[2].tok||8==a[2].tok)?c.ptValue(a[2],null):null;b=JU.V3.newV(f);if(null==d)return g=new JU.P4,2==a.length||2!=a[2].tok&&3!=a[2].tok&&!a[2].asBoolean()?(d=JU.P3.newP(e),d.add(f),d.scale(0.5),b.sub(e),b.normalize()):1073742335==a[2].tok?d=e:(b.sub(e),d=new JU.P3,d.scaleAdd2(a[2].asFloat(),b,e)),JU.Measure.getPlaneThroughPoint(d,
b,g),c.addXPt4(g);g=new JU.V3;a=4==a.length?c.ptValue(a[3],null):null;a=JU.Measure.getDirectedNormalThroughPoints(e,f,d,a,b,g);return c.addXPt4(JU.P4.new4(b.x,b.y,b.z,a))}}if(d)switch(d=c.getX(),d.tok){case 10:a=new JU.Lst;b=JS.SV.getBitSet(d,!1);for(e=b.nextSetBit(0);0<=e;e=b.nextSetBit(e+1))d=new JU.P3,JU.Measure.getPlaneProjection(this.vwr.ms.at[e],g,d,new JU.V3),a.addLast(JS.SV.getVariable(d));return c.addXList(a);case 8:return a=JS.SV.ptValue(d),d=new JU.P3,JU.Measure.getPlaneProjection(a,g,
d,new JU.V3),c.addXPt(d)}if(4!=a.length)return!1;d=JS.SV.fValue(a[0]);b=JS.SV.fValue(a[1]);g=JS.SV.fValue(a[2]);a=JS.SV.fValue(a[3]);return c.addXPt4(JU.P4.new4(d,b,g,a))},"JS.ScriptMathProcessor,~A,~N,~B");r(k,"evaluatePoint",function(c,a){var b=null;switch(a.length){default:return!1;case 1:switch(a[0].tok){case 3:case 2:return c.addXInt(a[0].asInt());case 4:b=a[0].value;if(b.startsWith("(")&&")"==b.charAt(b.length-1))return c.addXPt(this.getRealPointFromFraction(b));break;case 7:var d=a[0].getList(),
e=d.size();if(0==e)return!1;switch(d.get(0).tok){case 2:case 3:switch(e){case 3:return c.addXPt(JU.P3.new3(d.get(0).asFloat(),d.get(1).asFloat(),d.get(2).asFloat()));case 4:return c.addXPt4(JU.P4.new4(d.get(0).asFloat(),d.get(1).asFloat(),d.get(2).asFloat(),d.get(3).asFloat()))}return!1;case 7:for(var f=new JU.Lst,b=0;b<e;b++)f.addLast(JS.SV.getVariable(JU.Escape.uP("{"+d.get(b).asString()+"}")));return c.addXList(f);case 4:b=d.get(0).value;if(!b.startsWith("{")||"string"==typeof JU.Escape.uP(b))break;
f=new JU.Lst;for(b=0;b<e;b++)f.addLast(JS.SV.getVariable(JU.Escape.uP(JS.SV.sValue(d.get(b)))));return c.addXList(f);default:return!1}b="{null}"}null==b&&(b=JS.SV.sValue(a[0]));d=JU.Escape.uP(b);return x(d,"JU.P3")?c.addXPt(d):c.addXStr(""+d);case 2:switch(a[1].tok){case 1073742334:case 1073742335:switch(a[0].tok){case 8:d=JU.P3.newP(a[0].value);break;case 10:d=this.vwr.ms.getAtomSetCenter(a[0].value);break;default:return!1}1073742335==a[1].tok?(this.vwr.tm.transformPt3fSafe(d,d),d.y=this.vwr.tm.height-
d.y,this.vwr.antialiased&&d.scale(0.5)):(this.vwr.antialiased&&d.scale(2),d.y=this.vwr.tm.height-d.y,this.vwr.tm.unTransformPoint(d,d));break;case 8:e=a[0].getList();if(null==e||4!=e.size())return!1;b=JS.SV.ptValue(a[1]);d=JU.P3.newP(JS.SV.ptValue(e.get(0)));d.scaleAdd2(b.x,JS.SV.ptValue(e.get(1)),d);d.scaleAdd2(b.y,JS.SV.ptValue(e.get(2)),d);d.scaleAdd2(b.z,JS.SV.ptValue(e.get(3)),d);break;default:return!1}return c.addXPt(d);case 3:return c.addXPt(JU.P3.new3(a[0].asFloat(),a[1].asFloat(),a[2].asFloat()));
case 4:return c.addXPt4(JU.P4.new4(a[0].asFloat(),a[1].asFloat(),a[2].asFloat(),a[3].asFloat()))}},"JS.ScriptMathProcessor,~A");r(k,"getRealPointFromFraction",function(c){c=JU.PT.rep(c.substring(1,c.length-1).$replace(","," "),"  "," ");c=JU.PT.split(c.trim()," ");return 3!=c.length?null:JU.P3.new3(JU.SimpleUnitCell.parseCalcFunctions(this.vwr,null,c[0]),JU.SimpleUnitCell.parseCalcFunctions(this.vwr,null,c[1]),JU.SimpleUnitCell.parseCalcFunctions(this.vwr,null,c[2]))},"~S");r(k,"evaluatePrompt",function(c,
a){if(1!=a.length&&2!=a.length&&3!=a.length)return!1;var b=JS.SV.sValue(a[0]),d=1<a.length&&7==a[1].tok?JS.SV.strListValue(a[1]):null,e=null!=d||1==a.length||3==a.length&&a[2].asBoolean(),f=null!=d?null:2<=a.length?JS.SV.sValue(a[1]):"OK",b=""+this.vwr.prompt(b,f,d,e);return e&&null!=d?c.addXInt(Integer.parseInt(b)+1):c.addXStr(b)},"JS.ScriptMathProcessor,~A");r(k,"evaluateQuaternion",function(c,a,b){var d=null,e=a.length,f=2147483647,g=!1;134221850==b&&(1<e&&(4==a[e-1].tok&&a[e-1].value.equalsIgnoreCase("relative"))&&
(e--,g=!0),1<e&&(2==a[e-1].tok&&10==a[0].tok)&&(f=a[e-1].asInt(),0>=f&&(f=2147483646),e--));switch(e){case 0:case 1:case 4:break;case 2:if(134221850==b){if(7==a[0].tok&&(7==a[1].tok||1073742335==a[1].tok))break;if(10==a[0].tok&&(2==a[1].tok||10==a[1].tok))break}if(null==(d=c.ptValue(a[0],null))||134221850!=b&&8==a[1].tok)return!1;break;case 3:if(134221850!=b)return!1;if(9==a[0].tok){if(8!=a[2].tok&&10!=a[2].tok)return!1;break}for(var h=0;3>h;h++)if(8!=a[h].tok&&10!=a[h].tok)return!1;break;default:return!1}var j=
h=null,l=null;switch(e){case 0:return c.addXPt4(this.vwr.tm.getRotationQ().toPoint4f());default:if(134221850==b&&7==a[0].tok){b=this.e.getQuaternionArray(a[0].getList(),1073742001);a=JU.Quat.sphereMean(b,null,1E-4);h=x(a,"JU.Quat")?a:null;break}else if(134221850==b&&10==a[0].tok)j=this.vwr.getAtomGroupQuaternions(a[0].value,f);else if(11==a[0].tok)h=JU.Quat.newM(a[0].value);else if(9==a[0].tok)l=a[0].value;else if(l=JS.SV.sValue(a[0]),l=JU.Escape.uP(l.equalsIgnoreCase("best")?this.vwr.getOrientation(1073741864,
"best",null,null).toString():l),!x(l,"JU.P4"))return!1;134217731==b&&(h=JU.Quat.newVA(JU.P3.new3(l.x,l.y,l.z),l.w));break;case 2:if(134221850==b){if(7==a[0].tok&&7==a[1].tok){b=this.e.getQuaternionArray(a[0].getList(),1073742001);j=this.e.getQuaternionArray(a[1].getList(),1073742001);j=JU.Quat.arrayDiv(j,b,f,g);break}if(7==a[0].tok&&1073742335==a[1].tok)return b=this.e.getQuaternionArray(a[0].getList(),1073742001),f=C(1,0),JU.Quat.sphereMean(b,f,1E-4),c.addXFloat(f[0]);if(10==a[0].tok&&10==a[1].tok){b=
this.vwr.getAtomGroupQuaternions(a[0].value,2147483647);j=this.vwr.getAtomGroupQuaternions(a[1].value,2147483647);j=JU.Quat.arrayDiv(j,b,f,g);break}}h=c.ptValue(a[1],null);l=this.e.planeValue(a[0]);h=null!=h?JU.Quat.getQuaternionFrame(JU.P3.new3(0,0,0),d,h):JU.Quat.newVA(d,JS.SV.fValue(a[1]));break;case 3:if(9==a[0].tok)return f=8==a[2].tok?a[2].value:this.vwr.ms.getAtomSetCenter(a[2].value),c.addXStr(JU.Escape.drawQuat(JU.Quat.newP4(a[0].value),"q",JS.SV.sValue(a[1]),f,1));b=Array(3);for(h=0;3>h;h++)b[h]=
8==a[h].tok?a[h].value:this.vwr.ms.getAtomSetCenter(a[h].value);h=JU.Quat.getQuaternionFrame(b[0],b[1],b[2]);break;case 4:134221850==b?l=JU.P4.new4(JS.SV.fValue(a[1]),JS.SV.fValue(a[2]),JS.SV.fValue(a[3]),JS.SV.fValue(a[0])):h=JU.Quat.newVA(JU.P3.new3(JS.SV.fValue(a[0]),JS.SV.fValue(a[1]),JS.SV.fValue(a[2])),JS.SV.fValue(a[3]))}if(null!=j){if(2147483647!=f){f=new JU.Lst;for(h=0;h<j.length;h++)f.addLast(j[h].toPoint4f());return c.addXList(f)}h=0<j.length?j[0]:null}return c.addXPt4((null==h?JU.Quat.newP4(l):
h).toPoint4f())},"JS.ScriptMathProcessor,~A,~N");r(k,"evaluateRandom",function(c,a){if(3<a.length)return!1;null==this.rand&&(this.rand=new java.util.Random);var b=0,d=1;switch(a.length){case 3:this.rand.setSeed(aa(JS.SV.fValue(a[2])));case 2:d=JS.SV.fValue(a[1]);case 1:b=JS.SV.fValue(a[0]);case 0:break;default:return!1}return c.addXFloat(this.rand.nextFloat()*(d-b)+b)},"JS.ScriptMathProcessor,~A");r(k,"evaluateRowCol",function(c,a,b){if(1!=a.length)return!1;a=a[0].asInt()-1;var d=c.getX();switch(d.tok){case 11:if(0>
a||2<a)break;d=d.value;switch(b){case 1275068935:return b=C(3,0),d.getRow(a,b),c.addXAF(b);default:return b=C(3,0),d.getColumn(a,b),c.addXAF(b)}case 12:if(0>a||3<a)break;d=d.value;switch(b){case 1275068935:return b=C(4,0),d.getRow(a,b),c.addXAF(b);default:return b=C(4,0),d.getColumn(a,b),c.addXAF(b)}case 7:b=d.getList();for(var d=new JU.Lst,e=0,f=b.size();e<f;e++){var g=b.get(e).getList();if(null==g)return c.addXStr("");d.addLast(a<g.size()?g.get(a):JS.SV.newS(""))}return c.addXList(d)}return!1},
"JS.ScriptMathProcessor,~A,~N");r(k,"evaluateIn",function(c,a){var b=c.getX();switch(a.length){case 1:var d=a[0].getList();if(null!=d)for(var e=0,f=d.size();e<f;e++)if(JS.SV.areEqual(b,d.get(e)))return c.addXInt(e+1);break;default:for(e=0;e<a.length;e++)if(JS.SV.areEqual(b,a[e]))return c.addXInt(e+1)}return c.addXInt(0)},"JS.ScriptMathProcessor,~A");r(k,"evaluateReplace",function(c,a){var b=!1,d,e;switch(a.length){case 0:b=!0;d=e=null;break;case 3:b=JS.SV.bValue(a[2]);case 2:d=JS.SV.sValue(a[0]);
e=JS.SV.sValue(a[1]);break;default:return!1}var f=c.getX();if(7==f.tok){for(var f=JS.SV.strListValue(f),g=Array(f.length),h=f.length;0<=--h;)g[h]=null==d?JU.PT.clean(f[h]):b?JU.PT.replaceAllCharacters(f[h],d,e):JU.PT.rep(f[h],d,e);return c.addXAS(g)}f=JS.SV.sValue(f);return c.addXStr(null==d?JU.PT.clean(f):b?JU.PT.replaceAllCharacters(f,d,e):JU.PT.rep(f,d,e))},"JS.ScriptMathProcessor,~A");r(k,"evaluateScript",function(c,a,b){if(134222350!=b&&!this.checkAccess()||0==a.length||1!=a.length&&(134222350==
b||134238732==b)||(134222350==b||134238732==b)&&1!=a.length||0==a.length)return!1;var d=JS.SV.sValue(a[0]),e=new JU.SB;switch(b){case 134218759:return 2==a.length?d.equalsIgnoreCase("JSON")&&c.addXObj(this.vwr.parseJSON(JS.SV.sValue(a[1]))):c.addXObj(this.vwr.evaluateExpressionAsVariable(d));case 134222850:a=2==a.length?JS.SV.sValue(a[1]):".";a.equals(".")||e.append(this.vwr.jsEval(a+"\u0001"+d));(a.equals(".")||a.equals("*"))&&this.e.runScriptBuffer(d,e,!0);break;case 134222350:this.e.runScriptBuffer("show "+
d,e,!0);break;case 134238732:return c.addX(this.vwr.jsEvalSV(d))}var d=e.toString(),f;return Float.isNaN(f=JU.PT.parseFloatStrict(d))?c.addXStr(d):0<=d.indexOf(".")?c.addXFloat(f):c.addXInt(JU.PT.parseInt(d))},"JS.ScriptMathProcessor,~A,~N");r(k,"checkAccess",function(){return!this.vwr.haveAccessInternal(null)});r(k,"evaluateSort",function(c,a,b){if(1<a.length)return!1;if(1275068444==b){if(1==a.length&&4==a[0].tok)return c.addX(c.getX().sortMapArray(a[0].asString()));var d=0==a.length?0:a[0].asInt();
return c.addX(c.getX().sortOrReverse(d))}b=c.getX();a=0==a.length?null:a[0];if(4==b.tok){var d=0,e=JS.SV.sValue(b);if(null==a)return c.addXInt(0);a=JS.SV.sValue(a);for(b=0;b<e.length;b++){b=e.indexOf(a,b);if(0>b)break;d++}return c.addXInt(d)}var d=new JU.Lst,f=e=null,g=JS.SV.getVariable(b.value).sortOrReverse(0).getList();if(null==g)return null==a?c.addXStr(""):c.addXInt(0);b=0;for(var h=g.size();b<=h;b++){var j=b==h?null:g.get(b);if(!(null!=a&&null!=j&&!JS.SV.areEqual(j,a)))if(JS.SV.areEqual(j,e))f.intValue++;
else{if(null!=e){var l=new JU.Lst;l.addLast(e);l.addLast(f);d.addLast(JS.SV.getVariableList(l))}f=JS.SV.newI(1);e=j}}return null==a?c.addX(JS.SV.getVariableList(d)):d.isEmpty()?c.addXInt(0):c.addX(d.get(0).getList().get(1))},"JS.ScriptMathProcessor,~A,~N");r(k,"evaluateString",function(c,a,b){var d=c.getX(),e=0<b.length?JS.SV.sValue(b[0]):1275068932==a?"":"\n";switch(b.length){case 0:break;case 1:if(1073742335==b[0].tok)return c.addX(JS.SV.getVariable(JU.PT.getTokens(d.asString())));break;case 2:if(7==
d.tok)break;if(1275069447==a){d=JS.SV.getVariable(JU.PT.split(JU.PT.rep(d.value,"\n\r","\n").$replace("\r","\n"),"\n"));break}default:return!1}if(7==d.tok&&1275068932!=a&&(1275069447!=a||2==b.length))return c.addX(d),this.evaluateList(c,a,b);b=1275069447==a&&10==d.tok||1275068932==a&&7==d.tok?null:JS.SV.sValue(d);switch(a){case 1275069447:if(10==d.tok){e=d.value;d=this.vwr.ms.mc;b=new JU.Lst;for(a=0;a<d;a++){var f=this.vwr.getModelUndeletedAtomsBitSet(a);f.and(e);b.addLast(JS.SV.getVariable(f))}return c.addXList(b)}return c.addXAS(JU.PT.split(b,
e));case 1275069446:return 0<b.length&&"\n"==b.charAt(b.length-1)&&(b=b.substring(0,b.length-1)),c.addXStr(JU.PT.rep(b,"\n",e));case 1275068932:if(null!=b)return c.addXStr(JU.PT.trim(b,e));d=JS.SV.strListValue(d);for(a=d.length;0<=--a;)d[a]=JU.PT.trim(d[a],e);return c.addXAS(d)}return c.addXStr("")},"JS.ScriptMathProcessor,~N,~A");r(k,"evaluateSubstructure",function(c,a,b,d){var e=d?c.getX():null,f=null,g=null;if(null!=e)switch(e.tok){case 10:g=e.value;break;case 4:if(f=e.value,f.startsWith("InChI"))return c.addX(e),
this.evaluateInChI(c,D(-1,[JS.SV.newS("SMILES "+(0<a.length?a[0].asString():0<=f.indexOf("/f")?"fixedh":"amide"))]))}if(d&&134218757==b)return c.addXObj(this.e.getSmilesExt().getSmilesMatches("",null,g,null,1,!0,!1));if(0==a.length||d&&(134218753==b||1<a.length))return!1;e=134218756==b&&!d&&134218756==a[0].tok?a[0].value:null;if(null!=e&&2>a.length)return!1;d=134218756==b&&!d&&10==a[0].tok;f=134218753==a[0].tok?a[0].value:null!=e&&134218753==a[1].tok?a[1].value:null;if(null!=e&&null==f)return!1;var h=
d?null:null==f?JS.SV.sValue(a[0]):null,j=new JU.BS;if(null==h||0<h.length)try{if(d)return c.addX(JS.SV.newV(134218756,this.vwr.getSmilesMatcher().compileSearchTarget(this.vwr.ms.at,this.vwr.ms.ac,JS.SV.getBitSet(a[0],!1))));if(null!=e)return c.addXBs(this.vwr.getSmilesMatcher().getSubstructureSet(f,e,0,null,2));if(134218753==b)return c.addX(JS.SV.newV(134218753,this.vwr.getSmilesMatcher().compileSmartsPattern(h)));null==g&&(g=2==a.length&&10==a[1].tok?a[1].value:this.vwr.getModelUndeletedAtomsBitSet(-1));
j=this.vwr.getSmilesMatcher().getSubstructureSet(null==f?h:f,this.vwr.ms.at,this.vwr.ms.ac,g,134218757==b?1:2)}catch(l){if(N(l,Exception))this.e.evalError(l.getMessage(),null);else throw l;}return 134218753!=b&&c.addXBs(j)},"JS.ScriptMathProcessor,~A,~N,~B");r(k,"evaluateSymop",function(c,a,b){if(!b&&2==a.length&&7==a[0].tok&&4==a[1].tok){for(var d=new JU.Lst,e=a[0].value,f=0,g=e.size();f<g;f++){b=this.getSymopInfo(c,null,D(-1,[e.get(f),a[1]]),f+1,!1);if(null==b)return!1;d.addLast(b)}return c.addXList(d)}d=
b?c.getX():null;b=this.getSymopInfo(c,d,a,0,b);return c.addXObj(b)},"JS.ScriptMathProcessor,~A,~B");r(k,"getSymopInfo",function(c,a,b,d,e){var f=null,g=b.length,h=2==g&&4==b[1].tok?b[1].value.toLowerCase():null;if(null!=h){var j=null,l=null;switch(b[0].tok){case 4:switch(h){case "rxyz":case "matrix":l=b[0].value}break;case 11:switch(h){case "rxyz":case "xyz":case "uvw":j=b[0].value}break;case 12:switch(h){case "rxyz":case "xyz":j=b[0].value}}if(null!=j||null!=l)return this.vwr.getSymStatic().staticConvertOperation(l,
j,h)}var q=!1;if(null!=a&&10!=a.tok&&!(q=8==a.tok))return null;f=null==a||q?null:a.value;a=q?JS.SV.ptValue(a):null;!q&&null==f&&(f=this.vwr.getThisModelAtoms());if(0==g){a=JU.PT.split(JU.PT.trim(this.vwr.getSymTemp().getSpaceGroupInfo(this.vwr.ms,null,null==f||f.isEmpty()?Math.max(0,this.vwr.am.cmi):this.vwr.ms.at[f.nextSetBit(0)].mi,!1,null).get("symmetryInfo"),"\n"),"\n");for(var j=new JU.Lst,k=0,n=a.length;k<n;k++)j.addLast(JU.PT.split(a[k],"\t"));return j}var l=null,p=0,n=-2147483648,s=0,m=null,
r=null,u=!1;switch(b[0].tok){case 4:l=JS.SV.sValue(b[0]);switch(null==l?"":l.toLowerCase()){case "count":return k=this.vwr.getOperativeSymmetry(),1!=g?null:Integer.$valueOf(null==k?0:k.getSpaceGroupOperationCount());case "":p=0;break;case "invariant":p=36868;break;case "wyckoff":p=1086324754;u=!0;break;case "wyckoffm":p=1086324755,u=!0}s++;break;case 11:case 12:l=b[0].escape();s++;break;case 2:n=b[0].asInt();s++;break;case 10:q||(r=b[0].value)}null==f?(s<g&&10==b[s].tok&&(f=new JU.BS).or(b[s].value),
s+1<g&&10==b[s+1].tok&&(null==f?f=new JU.BS:f).or(b[s+1].value)):f.isEmpty()||(f=this.vwr.getModelUndeletedAtomsBitSet(this.vwr.getModelIndexForAtom(f.nextSetBit(0))));q=null;if(g>s&&7==b[s].tok){m=b[s++].getList();if(3!=m.size())return null;q=JU.P3.new3(JS.SV.fValue(m.get(0)),JS.SV.fValue(m.get(1)),JS.SV.fValue(m.get(2)))}else g>s&&2==b[s].tok&&JU.SimpleUnitCell.ijkToPoint3f(JS.SV.iValue(b[s++]),q=new JU.P3,0,0);null==a&&null!=(a=g>s?c.ptValue(b[s],f):null)&&s++;null!=(m=g>s?c.ptValue(b[s],f):null)&&
s++;if(null!=a&&null==m&&null!=r&&!r.isEmpty()){m=a;r=JU.BSUtil.copy(r);r.and(f);a=this.vwr.ms.getSymmetryEquivAtoms(r,null,null).nextSetBit(0);if("basis".equals(h))return JU.BSUtil.newAndSetBit(a);a=JU.P3.newP(this.vwr.ms.at[a])}c=null!=m&&b.length>s&&-2147483648==n&&2==b[s].tok?b[s].intValue:-1;0<=c&&s++;-2147483648==n&&36868!=p&&(n=0);h=null;0==p&&(null!=l&&0>l.indexOf(","))&&(s==g?h=this.vwr.ms.getPointGroupInfo(null):6==b[s].tok&&(h=b[s].getMap()));if(null!=h){b=l.indexOf(".");d=l.indexOf("^");
0<d?c=JU.PT.parseInt(l.substring(d+1)):(d=l.length,c=1);0<b&&d>b+1?(n=JU.PT.parseInt(l.substring(b+1,d)),1>n&&(n=1),d=b):n=1;l=l.substring(0,d);f=h.get(l+"_m");if(null==f)return f=h.get(l),null==f?"":f;var A;try{if(x(f,"JS.SV"))if(A=h.get("center").value,l=f,11==l.tok)j=l.value;else if(7==l.tok)j=l.getList().get(n-1).value;else return null;else A=h.get("center"),j=x(f,"JU.M3")?f:f.get(n-1);n=j;j=JU.M3.newM3(j);if(1<c)for(k=1;k<c;k++)j.mul(n);if(null==a)return j;a=JU.P3.newP(a);a.sub(A);j.rotate(a);
a.add(A);return a}catch(D){if(!N(D,Exception))throw D;}return null}A=g==s?u?"":36868==p?"id":null!=m||null==a?"matrix":"point":JS.SV.sValue(b[s++]);g=(k=(!u||e)&&null!=f&&!f.isEmpty())?f.nextSetBit(0):-1;if(u){for(b=k?this.vwr.ms.getAtom(g):a;0<A.length&&JU.PT.isDigit(A.charAt(0));)A=A.substring(1);if(null==b)switch(A){case "":case "*":A="*";break;default:if(1==A.length)A+="*";else return null}if(0==A.length||A.equalsIgnoreCase("label"))A=null;a=null==A?1086324755==p?"":null:A.endsWith("*")||A.equalsIgnoreCase("coord")||
A.equalsIgnoreCase("coords")?A:A.substring(0,1);k=this.vwr.getOperativeSymmetry();return null==k?null:k.getWyckoffPosition(b,null==a?1086324755==p?"M":null:(1086324755==p?"M":"")+a)}A=A.toLowerCase();if(36868==p||A.equals("invariant")&&e)k&&null==a&&(a=this.vwr.ms.at[g]),0>g&&(g=this.vwr.getThisModelAtoms().nextSetBit(0));if(36868==p&&-2147483648==n){l=null;k=this.vwr.getCurrentUnitCell();null!=a?l=null==k?O(0,0):k.getInvariantSymops(a,null):null!=f&&!f.isEmpty()&&(k=f.nextSetBit(0),a=this.vwr.ms.at[k],
l=this.vwr.ms.getSymmetryInvariant(k));if(null!=l&&0<l.length){j=Array(l.length);for(k=0;k<j.length;k++)n=l[k],j[k]=this.vwr.getSymmetryInfo(g,null,n,null,a,a,1275068418,A,0,-1,0,null);return j}return l}k=null!=l&&0<=l.indexOf("u");f=s==b.length?this.vwr.getSymmetryInfo(g,l,0<d?d:n,q,a,m,1275068418,A,0,c,0,null):null;k&&x(f,"JU.M4")&&(k=new JU.M3,f.getRotationScale(k),f=k);return f},"JS.ScriptMathProcessor,JS.SV,~A,~N,~B");r(k,"evaluateTensor",function(c,a){var b=2==a.length&&1275068445==a[1].tok,
d=b?null:c.getX();if(2<a.length||!b&&10!=d.tok)return!1;var d=d.value,e=b||0==a.length?null:JS.SV.sValue(a[0]).toLowerCase(),f=this.vwr.getNMRCalculation();if("unique".equals(e))return c.addXBs(f.getUniqueTensorSet(d));var g=2>a.length?null:JS.SV.sValue(a[1]).toLowerCase();return b?c.addXObj(a[0].value.getInfo(g)):c.addXList(f.getTensorInfo(e,g,d))},"JS.ScriptMathProcessor,~A");r(k,"evaluateUserFunction",function(c,a,b,d,e){var f=null;if(e)switch(f=c.getX(),f.tok){case 10:break;case 6:if(0<b.length)return!1;
f=f.getMap().get(a);return null==f?c.addXStr(""):c.addX(f);default:return!1}a=a.toLowerCase();c.wasX=!1;for(var g=new JU.Lst,h=0;h<b.length;h++)g.addLast(b[h]);if(e)return c.addXObj(this.e.getBitsetProperty(f.value,null,d,null,null,f.value,D(-1,[a,g]),!1,f.index,!1));a=this.e.getUserFunctionResult(a,g,null);return null==a?!1:c.addX(a)},"JS.ScriptMathProcessor,~S,~A,~N,~B");r(k,"evaluateWithin",function(c,a,b){var d=a.length;if(1>d||5<d)return!1;if(1==d&&10==a[0].tok)return c.addX(a[0]);var e=b?JS.SV.getBitSet(c.getX(),
!1):null,f=0,g=a[0].value,h=""+g,j=this.vwr.ms,l=!1,q=!1,k=!1,n=!1,p=null,r=null,m=a[0].tok;a:for(;;){switch(4==m?m=JS.T.getTokFromName(h):m){case 1648363544:l=!0,g=null;case 3:case 2:n=!0;if(2>d||3==d&&7==a[1].tok&&7!=a[2].tok)return!1;f=l?100:JS.SV.fValue(a[0]);switch(m=a[1].tok){case 1073742335:case 1073742334:q=a[1].asBoolean();if(2<d&&JS.SV.sValue(a[2]).equalsIgnoreCase("unitcell"))m=1814695966;else if(2<d&&10!=a[2].tok)return!1;d=0;break;case 4:m=JS.SV.sValue(a[1]);if(m.startsWith("$")){p=this.getAtomsNearSurface(f,
m.substring(1));break a}if(m.equalsIgnoreCase("group"))k=!0,m=1086324742;else if(m.equalsIgnoreCase("vanderwaals")||m.equalsIgnoreCase("vdw"))g=null,l=!0,m=1648363544;else if(m=JS.T.getTokFromName(m),0==m)return!1}break;case 7:1==d&&(g=a[0].asString(),m=0);break;case 1073742328:p=3==d&&x(a[1].value,"JU.BS")&&x(a[2].value,"JU.BS")?this.vwr.getBranchBitSet(a[2].value.nextSetBit(0),a[1].value.nextSetBit(0),!0):null;break a;case 134218757:case 1237320707:case 134218756:f=!0;switch(d){case 2:p=e;break;
case 3:if(f=10==a[2].tok)p=a[2].value;break;default:f=!1}return f&&c.addXObj(this.e.getSmilesExt().getSmilesMatches(JS.SV.sValue(a[1]),null,p,null,134218756==m?2:1,c.asBitSet,!1))}if("string"==typeof g){if(0==m){m=1073742362;if(2<d)return!1;d=2}}else if(!n)return!1;g=!1;switch(d){case 1:switch(m){case 2097184:case 136314895:case 1812599299:case 1814695966:p=j.getAtoms(m,null);break a;case 1073741863:p=j.getAtoms(m,"");break a;case 1073742362:p=j.getAtoms(1086324744,h);break a}return!1;case 2:switch(m){case 1073742362:m=
1086324744;break;case 1073741824:case 1086326786:case 1086326785:case 1073741863:case 1086324744:case 1111490587:case 1073742128:case 1073741925:case 1073742189:p=this.vwr.ms.getAtoms(m,JS.SV.sValue(a[1]));break a;case 1094713349:case 1094713350:p=this.vwr.ms.getAtoms(m,JS.SV.ptValue(a[1]));break a;case 1814695966:if(n&&2==d){p=this.vwr.ms.getAtoms(m,D(-1,[null,Double.$valueOf(f)]));break a}g=!0}break;case 3:switch(m){case 1073742335:case 1073742334:case 1086324742:case 1648363544:case 134217750:case 134219777:case 1073742329:case 8:case 7:break;
case 1086324744:h=JS.SV.sValue(a[1]);break;case 1814695966:g=!0;break;default:return!1}break;case 4:switch(m){case 1814695966:if(!n)return!1;g=!0;break;default:return!1}}if(g){a=this.getUnitCell(a,-1,n?2:1,a.length-1);if(null==a)return!1;a=this.vwr.getSymTemp().getUnitCell(a,!1,null);p=this.vwr.ms.getAtoms(m,D(-1,[a,n?Double.$valueOf(f):null]));break}var C=null,g=d=null,p=a.length-1;switch(a[p].tok){case 9:C=a[p].value;break;case 8:d=a[p].value;JS.SV.sValue(a[1]).equalsIgnoreCase("hkl")&&(C=this.e.getHklPlane(d,
NaN,null));break;case 7:g=2==p&&7==a[1].tok?a[1].getList():null,d=2==p?JS.SV.ptValue(a[1]):1==p?JU.P3.new3(NaN,0,0):null}if(null!=C){p=j.getAtomsNearPlane(f,C);break a}j=10==a[p].tok?a[p].value:null;null==e&&(e=j);if(0<p&&null==d&&null==g&&null==e)return!1;if(1814695966==m)return n=q,(null!=e||null!=d)&&c.addXObj(this.vwr.ms.getUnitCellPointsWithin(f,e,d,n));if(null!=d||null!=g){if(7==a[p].tok){a=a[p].getList();n=Array(a.size());for(m=n.length;0<=--m;)n[m]=JS.SV.ptValue(a.get(m));a=null;if(null!=
g){a=Array(g.size());for(m=a.length;0<=--m;)a[m]=JS.SV.ptValue(g.get(m))}m=Array(1);null!=e&&(e.and(this.vwr.getAllAtoms()),a=this.vwr.ms.at);switch(J.bspt.PointIterator.withinDistPoints(f,d,n,a,e,m)){case 10:return c.addXBs(m[0]);case 134217751:return c.addXPt(m[0]);case 1073742001:return c.addXList(m[0]);case 1275068418:return c.addXAI(m[0]);case 4:return c.addXStr(m[0]);default:return!1}}return c.addXBs(this.vwr.getAtomsNearPt(f,d,null))}if(1086324744==m)return c.addXBs(this.vwr.ms.getSequenceBits(h,
e,new JU.BS));null==e&&(e=new JU.BS);if(!n)try{return c.addXBs(this.vwr.ms.getAtoms(m,e))}catch(u){if(N(u,Exception))return!1;throw u;}if(k)return c.addXBs(this.vwr.getGroupsWithin(aa(f),e));l&&(r=new J.atomdata.RadiusData(null,10<f?f/100:f,10<f?J.atomdata.RadiusData.EnumType.FACTOR:J.atomdata.RadiusData.EnumType.OFFSET,J.c.VDW.AUTO),0>f&&(f=0));e=this.vwr.ms.getAtomsWithinRadius(f,b?j:e,q,r,b?e:null);b&&e.andNot(j);return c.addXBs(e)}return null!=p?(null!=e&&p.and(e),c.addXBs(p)):!1},"JS.ScriptMathProcessor,~A,~B");
r(k,"evaluateWrite",function(c,a){if(!this.checkAccess())return!1;var b=a.length,d=!1;2==b&&1073742335==a[1].tok&&(b=1,d=!0);switch(b){case 0:return!1;case 1:var e=a[0].asString().toUpperCase();if(e.equals("PNGJ"))return b=this.vwr.fm.getFileAsMap(null,"PNGJ",d),d?c.addX(JS.SV.newV(15,new JU.BArray(b))):c.addXMap(b);if(JU.PT.isOneOf(e,";ZIP;ZIPALL;JMOL;")){var b=new java.util.Hashtable,f=new JU.OC;b.put("outputChannel",f);this.vwr.createZip(null,e,b);e=f.toByteArray();if(d)return c.addX(JS.SV.newV(15,
new JU.BArray(e)));b=new java.util.Hashtable;this.vwr.readFileAsMap(JU.Rdr.getBIS(e),b,null);return c.addXMap(b)}}return c.addXStr(this.e.getCmdExt().dispatch(134221856,!0,a))},"JS.ScriptMathProcessor,~A");r(k,"getAtomsNearSurface",function(c,a){var b=D(-1,[a,null,null]);if(this.e.getShapePropertyData(24,"getVertices",b))return this.getAtomsNearPts(c,b[1],b[2]);b[1]=Integer.$valueOf(0);b[2]=Integer.$valueOf(-1);if(this.e.getShapePropertyData(22,"getCenter",b))return this.vwr.getAtomsNearPt(c,b[2],
null);b[1]=Float.$valueOf(c);return this.e.getShapePropertyData(21,"getAtomsWithin",b)?b[2]:new JU.BS},"~N,~S");r(k,"getAtomsNearPts",function(c,a,b){var d=new JU.BS;if(0==a.length||null!=b&&b.isEmpty())return d;null==b&&(b=JU.BSUtil.setAll(a.length));for(var e=this.vwr.ms.at,f=this.vwr.ms.ac;0<=--f;){var g=e[f];if(null!=g)for(var h=b.nextSetBit(0);0<=h;h=b.nextSetBit(h+1))if(g.distance(a[h])<c){d.set(f);break}}return d},"~N,~A,JU.BS");r(k,"getMinMax",function(c,a,b){for(var d=null,e=null,f=0,g=null;;){if(JU.AU.isAF(c)){if(1275068725==
a)return Float.$valueOf(NaN);d=c;f=d.length;if(0==f)break}else if(x(c,"JU.Lst"))if(e=c,f=e.size(),0==f){if(1275068725!=a)break}else{if(1275068725!=a){c=e.get(0);if(8==c.tok)return this.getMinMaxPoint(e,a);if(4==c.tok&&c.value.startsWith("{")){b=JS.SV.ptValue(c);if(x(b,"JU.P3"))return this.getMinMaxPoint(e,a);if(x(b,"JU.P4"))return this.getMinMaxQuaternion(e,a);break}}}else break;var h,j=!1;switch(a){case 1275068725:g=new java.util.Hashtable;c=h=0;break;case 32:j=!0;c=3.4028235E38;h=2147483647;break;
case 64:c=-3.4028235E38;h=-2147483647;break;default:c=h=0}for(var l=0,k=0,r=!0,n=1275068725==a;0<=--f;){var p=null==e?null:e.get(f),s=!b?null:null==p?JS.SV.vF:p,m=n?1:null==d?JS.SV.fValue(s):d[f];if(!Float.isNaN(m))switch(k++,a){case 160:case 192:l+=m*m;case 128:case 96:c+=m;break;case 1275068725:p=null==s?p.toString():s.asString();s=g.get(p);g.put(p,null==s?Integer.$valueOf(1):Integer.$valueOf(s.intValue()+1));break;case 32:case 64:r=(new Boolean(r&2==s.tok)).valueOf(),j==m<c&&(c=m,r&&(h=s.intValue))}}if(1275068725==
a)return g;if(0==k)break;switch(a){case 96:c/=k;break;case 192:if(1==k)break;c=Math.sqrt((l-c*c/k)/(k-1));break;case 32:case 64:if(r)return Integer.$valueOf(h);break;case 160:c=l}return Float.$valueOf(c)}return JS.MathExt.nan},"~O,~N,~B");r(k,"getMinMaxPoint",function(c,a){var b=null,d=null,e=0;x(c,Array)?(b=c,e=b.length):x(c,"JU.Lst")&&(d=c,e=d.size());if(null==d&&null==b)return JS.MathExt.nan;for(var f=new JU.P3,g=C(e,0),h=0;3>h;h++){for(var j=0;j<e;j++){var l=null==b?JS.SV.ptValue(d.get(j)):b[j];
if(null==l)return JS.MathExt.nan;switch(h){case 0:g[j]=l.x;break;case 1:g[j]=l.y;break;case 2:g[j]=l.z}}j=this.getMinMax(g,a,!0);if(!x(j,Number))return JS.MathExt.nan;j=j.floatValue();switch(h){case 0:f.x=j;break;case 1:f.y=j;break;case 2:f.z=j}}return f},"~O,~N");r(k,"getMinMaxQuaternion",function(c,a){var b;switch(a){case 32:case 64:case 128:case 160:return JS.MathExt.nan}for(;;){b=this.e.getQuaternionArray(c,1073742001);if(null==b)break;var d=C(1,0);b=JU.Quat.sphereMean(b,d,1E-4);switch(a){case 96:return b;
case 192:return Float.$valueOf(d[0])}break}return JS.MathExt.nan},"JU.Lst,~N");r(k,"getPatternMatcher",function(){return null==this.pm?this.pm=J.api.Interface.getUtil("PatternMatcher",this.e.vwr,"script"):this.pm});r(k,"setContactBitSets",function(c,a,b,d,e,f){var g,h;null==a?(a=JU.BSUtil.setAll(this.vwr.ms.ac),JU.BSUtil.andNot(a,this.vwr.slm.bsDeleted),a.andNot(c),g=!1):(h=JU.BSUtil.copy(c),h.or(a),h=this.vwr.ms.getModelBS(h,!1).cardinality(),g=1<h,f&&(1<h&&!this.e.tQuiet)&&this.e.showString(J.i18n.GT.$("Note: More than one model is involved in this contact!")));
if(!c.equals(a)){if(f=!b||c.cardinality()<a.cardinality())h=this.vwr.ms.getAtomsWithinRadius(d,c,g,Float.isNaN(d)?e:null,null),a.and(h);b&&(h=this.vwr.ms.getAtomsWithinRadius(d,a,g,Float.isNaN(d)?e:null,null),c.and(h),f||(h=this.vwr.ms.getAtomsWithinRadius(d,c,g,Float.isNaN(d)?e:null,null),a.and(h)),h=JU.BSUtil.copy(a),h.and(c),h.equals(c)?a.andNot(c):h.equals(a)&&c.andNot(a))}return a},"JU.BS,JU.BS,~B,~N,J.atomdata.RadiusData,~B");k.nan=Float.$valueOf(NaN);k.t0=System.currentTimeMillis()});X("J.bspt");
U(null,"J.bspt.PointIterator","JU.BS $.Lst $.P3 J.bspt.Bspt JU.BSUtil $.Point3fi".split(" "),function(){var k=ba(J.bspt,"PointIterator",null);k.withinDistPoints=r(k,"withinDistPoints",function(c,a,b,d,e,f){var g=new JU.Lst,h=new J.bspt.Bspt(3,0),j;if(null!=a&&Float.isNaN(a.x)){for(var l=Array(b.length),k=l.length;0<=--k;){a=b[k];if(null==a)return 0;null==e&&(l[k]=a=JU.Point3fi.newPF(a,k));h.addTuple(a)}j=h.allocateCubeIterator();if(null!=e){b=JU.BS.newN(d.length);for(k=e.nextSetBit(0);0<=k;k=e.nextSetBit(k+
1)){j.initialize(d[k],c,!1);for(h=c*c;j.hasMoreElements();)if(j.nextElement().distanceSquared(d[k])<=h){b.set(k);break}}f[0]=b;return 10}b=JU.BSUtil.newBitSet2(0,b.length);for(k=l.length;0<=--k;){j.initialize(a=l[k],c,!1);h=c*c;for(e=0;j.hasMoreElements();)d=j.nextElement(),b.get(d.i)&&(d.distanceSquared(a)<=h&&1<++e)&&b.clear(d.i)}for(k=b.nextSetBit(0);0<=k;k=b.nextSetBit(k+1))g.addLast(JU.P3.newP(l[k]));f[0]=g;return 1073742001}if(0==c){if(null==d){h=3.4028235E38;l=null;for(k=b.length;0<=--k;)g=
b[k],c=g.distanceSquared(a),c<h&&(l=g,h=c);f[0]=null==l?"":l;return null==l?4:134217751}l=O(d.length,0);for(k=l.length;0<=--k;){h=3.4028235E38;e=-1;a=d[k];for(j=b.length;0<=--j;)g=b[j],c=g.distanceSquared(a),c<h&&(e=j,h=c);l[k]=e}f[0]=l;return 1275068418}for(k=b.length;0<=--k;)h.addTuple(b[k]);j=h.allocateCubeIterator();j.initialize(a,c,!1);for(h=c*c;j.hasMoreElements();)d=j.nextElement(),d.distanceSquared(a)<=h&&g.addLast(d);j.release();f[0]=g;return 1073742001},"~N,JU.P3,~A,~A,JU.BS,~A")});X("JU");
U(null,"JU.PatternMatcher",["JV.Viewer"],function(){var k=ba(JU,"PatternMatcher",null);r(k,"compile",function(c,a){if(JV.Viewer.isJS&&!JV.Viewer.isSwingJS)return new JU.PatternMatcher.JSPattern(c,a)},"~S,~B");k=$(function(){this.strString=this.regexp=null;this.rightBound=this.leftBound=-1;this.results=null;Z(this,arguments)},JU.PatternMatcher,"JSPattern",null);qa(k,function(c,a){this.regexp=RegExp(c,a?"gi":"g")},"~S,~B");r(k,"find",function(){var c=this.rightBound==this.strString.length?this.strString:
this.strString.substring(0,this.rightBound);this.regexp.lastIndex=this.leftBound;this.results=this.regexp.exec(c);this.leftBound=this.regexp.lastIndex;return null!=this.results});r(k,"start",function(){return this.regexp.lastIndex-this.results[0].length});r(k,"end",function(){return this.regexp.lastIndex});r(k,"group",function(){return null==this.results||0==this.results.length?null:this.results[0]});r(k,"matcher",function(c){this.strString=c;this.leftBound=0;this.rightBound=c.length;return this},
"~S")})})(Clazz,Clazz.getClassName,Clazz.newLongArray,Clazz.doubleToByte,Clazz.doubleToInt,Clazz.doubleToLong,Clazz.declarePackage,Clazz.instanceOf,Clazz.load,Clazz.instantialize,Clazz.decorateAsClass,Clazz.floatToInt,Clazz.floatToLong,Clazz.makeConstructor,Clazz.defineEnumConstant,Clazz.exceptionOf,Clazz.newIntArray,Clazz.newFloatArray,Clazz.declareType,Clazz.prepareFields,Clazz.superConstructor,Clazz.newByteArray,Clazz.declareInterface,Clazz.newShortArray,Clazz.innerTypeInstance,Clazz.isClassDefined,
Clazz.prepareCallback,Clazz.newArray,Clazz.castNullAs,Clazz.floatToShort,Clazz.superCall,Clazz.decorateAsType,Clazz.newBooleanArray,Clazz.newCharArray,Clazz.implementOf,Clazz.newDoubleArray,Clazz.overrideConstructor,Clazz.clone,Clazz.doubleToShort,Clazz.getInheritedLevel,Clazz.getParamsType,Clazz.isAF,Clazz.isAB,Clazz.isAI,Clazz.isAS,Clazz.isASS,Clazz.isAP,Clazz.isAFloat,Clazz.isAII,Clazz.isAFF,Clazz.isAFFF,Clazz.tryToSearchAndExecute,Clazz.getStackTrace,Clazz.inheritArgs,Clazz.alert,Clazz.defineMethod,
Clazz.overrideMethod,Clazz.declareAnonymous,Clazz.cloneFinals);
